<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>name</key>
    <string>Ruko</string>
    <key>scopeName</key>
    <string>source.spwn</string>
    <key>fileTypes</key>
    <array>
      <string>ruko</string>
      <string>rk</string>
      <string>spwn</string>
    </array>
    <key>patterns</key>
    <array>
      <dict>
        <key>include</key>
        <string>#core</string>
      </dict>
    </array>
    <key>working-storage-section</key>
    <array>
      <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
      <array>
        <dict>
          <key>match</key>
          <string>(?x)([?!:]:|[?!]?\.|[?!-]&gt;)</string>
          <key>captures</key>
          <dict>
            <key>1</key>
            <dict>
              <key>name</key>
              <string>punctuation.separator.namespace.ruko</string>
            </dict>
          </dict>
        </dict>
        <dict>
          <key>match</key>
          <string>\b([\p{Pc}\p{L}]\w*)\b(?=[:.])</string>
          <key>name</key>
          <string>entity.name.tag.namespace.ruko</string>
        </dict>
        <dict>
          <key>match</key>
          <string>\b((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)\b</string>
          <key>name</key>
          <string>support.class.component.ruko</string>
        </dict>
        <dict>
          <key>include</key>
          <string>#clauses</string>
        </dict>
        <dict>
          <key>include</key>
          <string>#declarations</string>
        </dict>
        <dict>
          <key>include</key>
          <string>#keywords</string>
        </dict>
        <dict>
          <key>include</key>
          <string>#html-tag-names</string>
        </dict>
      </array>
    </array>
    <key>repository</key>
    <dict>
      <key>core</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#directives</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#ignore-long-lines</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#clauses</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#declarations</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#argument-list</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#symbols</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#decorators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-signature</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#splice-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#generics</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#accessor-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#variables</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#illegal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>ignore-long-lines</key>
      <dict>
        <key>comment</key>
        <string>avoid parsing files with long lines of code</string>
        <key>match</key>
        <string>^\N{4097,}$</string>
      </dict>
      <key>space</key>
      <dict>
        <key>match</key>
        <string>\s+</string>
        <key>name</key>
        <string>meta.var.expr.ruko</string>
      </dict>
      <key>illegal</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\p{N}+</string>
            <key>name</key>
            <string>invalid.illegal.number.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\w+</string>
            <key>name</key>
            <string>invalid.illegal.variable.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>[({\[)}\]]+</string>
            <key>name</key>
            <string>invalid.illegal.missing-bracket.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>[\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+</string>
            <key>name</key>
            <string>invalid.illegal.operator.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\S+</string>
            <key>name</key>
            <string>invalid.illegal.uncaught.ruko</string>
          </dict>
        </array>
      </dict>
      <key>illegal-identifier</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>name</key>
        <string>meta.type.ruko</string>
        <key>begin</key>
        <string>(?&lt;=\w+\b)\s*(?=\b\w+)</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*\w+\s*</string>
            <key>name</key>
            <string>invalid.illegal.identifier.ruko</string>
          </dict>
        </array>
      </dict>
      <key>types</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#angle-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-modifiers</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-variables</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>type-variables</key>
      <dict>
        <key>comment</key>
        <string>Four types of variables - _lead_underscore UPPERCASE PascalCase camelCase</string>
        <key>match</key>
        <string>(?x) \s* \b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

(?:
  (?&lt;=
    (?: ['"`)\]}\w] | \\.) \s* # literal, bracket or space
    (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
  )
  \b # methods
  (?: # Properties
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
  |
  (?&lt;!
    (?: [,;'"`)}\]\w] | \\. ) # literal, bracket or space
    (?: [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ ) # operators
  )
  \b
  (?: # Objects
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
  (?! [?!]?\.\.+ ) # not a range operator
  (?= 
      (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
    | \#?\[ # or array access
  )
  |
  (?: # Regular variables
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
)\b

\s*
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>entity.name.trait.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>entity.name.interface.ruko</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>entity.name.interface.ruko</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>entity.name.trait.ruko</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>entity.name.module.ruko</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>entity.name.namespace.ruko</string>
          </dict>
          <key>7</key>
          <dict>
            <key>name</key>
            <string>entity.name.namespace.ruko</string>
          </dict>
          <key>8</key>
          <dict>
            <key>name</key>
            <string>entity.name.module.ruko</string>
          </dict>
          <key>9</key>
          <dict>
            <key>name</key>
            <string>entity.name.type.ruko</string>
          </dict>
          <key>10</key>
          <dict>
            <key>name</key>
            <string>entity.name.class.ruko</string>
          </dict>
          <key>11</key>
          <dict>
            <key>name</key>
            <string>entity.name.class.ruko</string>
          </dict>
          <key>12</key>
          <dict>
            <key>name</key>
            <string>entity.name.type.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>type-signature</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>name</key>
        <string>meta.type.ruko</string>
        <key>begin</key>
        <string>(?&lt;=(?:[)}\]\w'"`]|\\.)&gt;*\|?|^\|?)(:)(?=$|&lt;*(?:['"`\w\s]|#?[(\[{]))</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.annotation.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#types</string>
          </dict>
        </array>
      </dict>
      <key>type-brackets</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#type-curly-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-square-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-round-brackets</string>
          </dict>
        </array>
      </dict>
      <key>type-curly-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.mapping.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=(?:['"`)}\]\w]|\\.)[\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]*):(?=(?:['"`\w\s]|\#?[(\[{])|$)</string>
                <key>name</key>
                <string>punctuation.separator.key-value.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  &gt;* # after generics
  \s*
)
(\#?\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.object.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#as-keyword</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # expression keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  &gt;* # after generics
  \s*
)
(\#\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # expression keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  &gt;* # after generics
  \s*
)
(\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.dictionary.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      ^
    | [,;({\[]
    | (?:^|[,;({\[)}\]\w'"`]|\\.):\s*
    | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
  )
  \s*
)
(?&lt;! (?: [\w'"`)}\]] | \\.) &gt;* \s* ) # not after generics
(\#\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      ^
    | [,;({\[]
    | (?:^|[,;({\[)}\]\w'"`]|\\.):\s*
    | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
  )
  \s*
)
(?&lt;! (?: [\w'"`)}\]] | \\.) &gt;* \s* ) # not after generics
(\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.dictionary.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>type-round-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
                <key>name</key>
                <string>keyword.operator.expression.as.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=[\w\s][(|])\.</string>
                <key>name</key>
                <string>punctuation.definition.metadata.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;= # literal
    (?: [\w'"`)}\]] | \\.) &gt;* \s*
  | [^.]\.=?|[?!:]:=?
)
(\#?\()\s*
</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.parameters.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#?\()\s*
</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.tuple.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tuple.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.expression.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>type-square-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.sequence.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;= # literal
    (?: [\w'"`)}\]] | \\.) \s*
  | [^.]\.=?|[?!:]:=?
)
(\#?\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.attribute-selector.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#?\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\[)\s*</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.sequence.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[)\s*</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>type-keywords</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(from)\b\s*</string>
            <key>name</key>
            <string>storage.type.extends.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(for)\b\s*</string>
            <key>name</key>
            <string>storage.type.implements.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(infer|as)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.$1.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has|has\s+not|has)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.is.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b((inst|value|pair|type|name|size|key)of)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.$1.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(instof)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.instanceof.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(ext)\b\s*</string>
            <key>name</key>
            <string>storage.type.extends.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(impl)\b\s*</string>
            <key>name</key>
            <string>storage.type.implements.ruko</string>
          </dict>
        </array>
      </dict>
      <key>type-operators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Qualified name separators</string>
            <key>match</key>
            <string>(?&lt;=[)}\]\w])(?:(\?[.:&gt;]=?)|(![.:&gt;]=?)|((?:::|\.|-&gt;)=?))(?=[({\[\w])</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.optional.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assert.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.accessor.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(--?&gt;|~~?&gt;|==?&gt;)</string>
            <key>name</key>
            <string>keyword.operator.type.function.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(&lt;--?|&lt;~~?|&lt;==?)</string>
            <key>name</key>
            <string>keyword.operator.type.channel.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Prefix type operators</string>
            <key>match</key>
            <string>(?x)
\s*
(?:
   (\*)  # pointer
  |(\&amp;)  # reference
  |(\%)  # format
  |(\@)  # decorator
  |(\^)  # borrow 
  |(\!)  # negation
  |(\~)  # destructor
  |(\?)  # optional
  |(\\)  # lifetime
  |(\-)  # negation
  |(\+)  # arithmetic
  |(\.\.\.) # spread
) 
(?=[\w'"`]|\#?[(\[{&lt;])
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.pointer.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.reference.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.format.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.decorator.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.borrow.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.negation.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.optional.ruko</string>
              </dict>
              <key>9</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.lifetime.ruko</string>
              </dict>
              <key>10</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.negation.ruko</string>
              </dict>
              <key>11</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.arithmetic.ruko</string>
              </dict>
              <key>12</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.spread.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>Infix type operators</string>
            <key>match</key>
            <string>(?x)
(?&lt;=^|['"`)}\]\w\s]|\\.)
  (?:
     (\+)      # sum
    |(\-)      # difference
    |(\|)      # union
    |(\&amp;)      # intersection
    |(\^)      # exclusion 
    |(&lt;:|&gt;:)   # strict super/subtype
    |(&lt;=|&gt;=)   # super/subtype
    |(!=|==)   # inequality/equality
    |(&lt;&lt;|&gt;&gt;)   # variance (i.e. covariant/contravariant)
    |(===|!==) # identity/non-identity
    |(=~|!~)   # pattern match/non-pattern match
    |(:)       # extends/implements
  )
(?=['"`\w\s]|\#?[(\[{])
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.sum.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.difference.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.union.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.intersection.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exclusion.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.relation.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.relation.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.comparison.ruko</string>
              </dict>
              <key>9</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.variant.ruko</string>
              </dict>
              <key>10</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.identity.ruko</string>
              </dict>
              <key>11</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.pattern-match.ruko</string>
              </dict>
              <key>12</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.prototype.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>Suffix type operators</string>
            <key>match</key>
            <string>(?x)
(?&lt;=[\w'"`)\]}&gt;]|\\.)
(?:
   (\!) # negation
  |(\?) # existential
)
\B
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assert.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.existential.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>parameter-type-operators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Prefix type operators</string>
            <key>match</key>
            <string>(?x)
(?:
   (\*)  # pointer
  |(\&amp;)  # reference
  |(\%)  # format
  |(\@)  # decorator
  |(\^)  # borrow 
  |(\!)  # negation
  |(\~)  # destructor
  |(\?)  # optional
  |(\\)  # lifetime
  |(\-)  # negation
  |(\+)  # arithmetic
  |(\.\.\.) # spread
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.pointer.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.reference.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.format.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.decorator.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.borrow.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.negation.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.optional.ruko</string>
              </dict>
              <key>9</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.lifetime.ruko</string>
              </dict>
              <key>10</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.negation.ruko</string>
              </dict>
              <key>11</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.arithmetic.ruko</string>
              </dict>
              <key>12</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.spread.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>Suffix type operators</string>
            <key>match</key>
            <string>(?x)
(?:
   (\!) # negation
  |(\?) # existential
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assert.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.existential.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>literals</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#regexps</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strings</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#numbers</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#constants</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strings-unquoted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#symbols</string>
          </dict>
        </array>
      </dict>
      <key>constants</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
(?:
  (true|false) # boolean
  |(null|nan)
  |(undef) # undefined
  |(inf) # infinity
)
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>constant.language.boolean.$1.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.language.$2.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>constant.language.undefined.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>constant.language.infinity.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
(?:
  (it|this|super|self) # special arguments
  |(args) # arguments
  |(ctor) # constructor
  |(proto) # prototype
)
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>variable.language.$1.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>variable.language.arguments.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>variable.language.constructor.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>variable.language.prototype.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
(
  console|document|window|global|process|require|module|exports
  |navigator|location|history|localStorage|sessionStorage
)
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>support.type.object.$1.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>numbers</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>(?=\d)</string>
        <key>end</key>
        <string>\b\s*</string>
        <key>name</key>
        <string>meta.number.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>binary integer literal</string>
            <key>name</key>
            <string>constant.numeric.binary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0b) # prefix
  [0-1] [0-1_]* # integer part
  (\.)? # decimal point
  [0-1_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>ternary integer literal</string>
            <key>name</key>
            <string>constant.numeric.ternary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0t) # prefix
  [0-2] [0-2_]* # integer part
  (\.)? # decimal point
  [0-2_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>quaternary integer literal</string>
            <key>name</key>
            <string>constant.numeric.quaternary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0q) # prefix
  [0-3] [0-3_]* # integer part
  (\.)? # decimal point
  [0-3_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>quinary integer literal</string>
            <key>name</key>
            <string>constant.numeric.quinary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0p) # prefix
  [0-4] [0-4_]* # integer part
  (\.)? # decimal point
  [0-4_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>senary integer literal</string>
            <key>name</key>
            <string>constant.numeric.senary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0h) # prefix
  [0-5] [0-5_]* # integer part
  (\.)? # decimal point
  [0-5_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>septenary integer literal</string>
            <key>name</key>
            <string>constant.numeric.septenary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0s) # prefix
  [0-6] [0-6_]* # integer part
  (\.)? # decimal point
  [0-6_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>octal integer literal</string>
            <key>name</key>
            <string>constant.numeric.octal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0o) # prefix
  [0-7] [0-7_]* # integer part
  (\.)? # decimal point
  [0-7_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>nonary integer literal</string>
            <key>name</key>
            <string>constant.numeric.nonary.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0e) # prefix
  [0-8] [0-8_]* # integer part
  (\.)? # decimal point
  [0-8_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>decimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.decimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0d) # prefix
  [0-9] [0-9_]* # integer part
  (\.)? # decimal point
  [0-9_]* # fractional part
  (?: # exponent part
    (e) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>undecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.undecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0l) # prefix
  [\da-a] [\da-a_]* # integer part
  (\.)? # decimal point
  [\da-a_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>duodecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.duodecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0z) # prefix
  [\dabetx] [\dabetx_]* # integer part
  (\.)? # decimal point
  [\dabetx_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>tridecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.tridecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0r) # prefix
  [\da-c] [\da-c_]* # integer part
  (\.)? # decimal point
  [\da-c_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>tetradecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.tetradecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0c) # prefix
  [\da-d] [\da-d_]* # integer part
  (\.)? # decimal point
  [\da-d_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>pentadecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.pentadecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0k) # prefix
  [\da-e] [\da-e_]* # integer part
  (\.)? # decimal point
  [\da-e_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>hexadecimal integer literal</string>
            <key>name</key>
            <string>constant.numeric.hexadecimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  (0x) # prefix
  [\da-f] [\da-f_]* # integer part
  (\.)? # decimal point
  [\da-f_]* # fractional part
  (?: # exponent part
    (p) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>decimal (no prefix)</string>
            <key>name</key>
            <string>constant.numeric.decimal.ruko</string>
            <key>match</key>
            <string>(?ix) \b
  () # prefix
  \d [\d_]* # integer part
  (\.)? # decimal point
  [\d_]* # fractional part
  (?: # exponent part
    (e) # delimiter
    ([+-])? # sign
    ([\d_]+) # mantissa
  )?
  ([\p{Pc}\p{L}]\w*)? # type suffix
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.numeric.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.exponent.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exponent.sign.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.exponent.mantissa.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.other.unit.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>decorators</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>(?&lt;=^|\\.|['"`({\[)}\]\s]|(?:[)}\]\w\s'"`]|\\.)\s*[:=])(\@)(?=[\p{Pc}\p{L}])</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>name</key>
        <string>entity.name.decorator.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.decorator.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>entity.name.decorator.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#sigil-function-calls</string>
          </dict>
          <dict>
            <key>match</key>
            <string>[?!:]:|[?!]?\.|[?!-]&gt;</string>
            <key>name</key>
            <string>punctuation.separator.namespace.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strings</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#variables</string>
          </dict>
        </array>
      </dict>
      <key>symbols</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>quoted symbol</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>(?&lt;=^|\\.|['"`({\[)}\]\s]|(?:[)}\]\w\s'"`]|\\.)\s*[:=])(:)(?=[`'"])</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>name</key>
            <string>constant.language.symbol-type.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.symbol.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#strings</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|\\.|['"`({\[)}\]\s]|(?:[)}\]\w\s'"`]|\\.)\s*[:=])(:)(\b[\p{Pc}\p{L}]\w*\b)</string>
            <key>name</key>
            <string>constant.other.symbol.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.symbol.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.other.symbol.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>strings-unquoted</key>
      <dict>
        <key>comment</key>
        <string>Unquoted string</string>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>(`)</string>
        <key>end</key>
        <string>(?=\W)|$</string>
        <key>name</key>
        <string>string.template.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\b\p{Pd}+\b</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#string-escapes</string>
          </dict>
        </array>
      </dict>
      <key>strings</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim, interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+#+|\\+\$+#+%+|\\+%+\$+#+|\\+%+#+\$+|\\+#+\$+%+|\\+#+%+\$+|\$+\\+%+#+|\$+\\+#+%+|\$+%+\\+#+|\$+%+#+\\+|\$+#+\\+%+|\$+#+%+\\+|%+\\+\$+#+|%+\\+#+\$+|%+\$+\\+#+|%+\$+#+\\+|%+#+\\+\$+|%+#+\$+\\+|#+\\+\$+%+|#+\\+%+\$+|#+\$+\\+%+|#+\$+%+\\+|#+%+\\+\$+|#+%+\$+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim, interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+#+|\\+\$+#+%+|\\+%+\$+#+|\\+%+#+\$+|\\+#+\$+%+|\\+#+%+\$+|\$+\\+%+#+|\$+\\+#+%+|\$+%+\\+#+|\$+%+#+\\+|\$+#+\\+%+|\$+#+%+\\+|%+\\+\$+#+|%+\\+#+\$+|%+\$+\\+#+|%+\$+#+\\+|%+#+\\+\$+|%+#+\$+\\+|#+\\+\$+%+|#+\\+%+\$+|#+\$+\\+%+|#+\$+%+\\+|#+%+\\+\$+|#+%+\$+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim, interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+#+|\\+\$+#+%+|\\+%+\$+#+|\\+%+#+\$+|\\+#+\$+%+|\\+#+%+\$+|\$+\\+%+#+|\$+\\+#+%+|\$+%+\\+#+|\$+%+#+\\+|\$+#+\\+%+|\$+#+%+\\+|%+\\+\$+#+|%+\\+#+\$+|%+\$+\\+#+|%+\$+#+\\+|%+#+\\+\$+|%+#+\$+\\+|#+\\+\$+%+|#+\\+%+\$+|#+\$+\\+%+|#+\$+%+\\+|#+%+\\+\$+|#+%+\$+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim, interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+#+|\\+\$+#+%+|\\+%+\$+#+|\\+%+#+\$+|\\+#+\$+%+|\\+#+%+\$+|\$+\\+%+#+|\$+\\+#+%+|\$+%+\\+#+|\$+%+#+\\+|\$+#+\\+%+|\$+#+%+\\+|%+\\+\$+#+|%+\\+#+\$+|%+\$+\\+#+|%+\$+#+\\+|%+#+\\+\$+|%+#+\$+\\+|#+\\+\$+%+|#+\\+%+\$+|#+\$+\\+%+|#+\$+%+\\+|#+%+\\+\$+|#+%+\$+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\$+%+#+|\$+#+%+|%+\$+#+|%+#+\$+|#+\$+%+|#+%+\$+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\$+%+#+|\$+#+%+|%+\$+#+|%+#+\$+|#+\$+%+|#+%+\$+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\$+%+#+|\$+#+%+|%+\$+#+|%+#+\$+|#+\$+%+|#+%+\$+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted interpolated, format, and template string</string>
            <key>begin</key>
            <string>\s*(\$+%+#+|\$+#+%+|%+\$+#+|%+#+\$+|#+\$+%+|#+%+\$+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim, interpolated, and format string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+|\\+%+\$+|\$+\\+%+|\$+%+\\+|%+\\+\$+|%+\$+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim, interpolated, and format string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+|\\+%+\$+|\$+\\+%+|\$+%+\\+|%+\\+\$+|%+\$+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim, interpolated, and format string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+|\\+%+\$+|\$+\\+%+|\$+%+\\+|%+\\+\$+|%+\$+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim, interpolated, and format string</string>
            <key>begin</key>
            <string>\s*(\\+\$+%+|\\+%+\$+|\$+\\+%+|\$+%+\\+|%+\\+\$+|%+\$+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim, interpolated, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+#+|\\+#+\$+|\$+\\+#+|\$+#+\\+|#+\\+\$+|#+\$+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim, interpolated, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+#+|\\+#+\$+|\$+\\+#+|\$+#+\\+|#+\\+\$+|#+\$+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim, interpolated, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+#+|\\+#+\$+|\$+\\+#+|\$+#+\\+|#+\\+\$+|#+\$+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim, interpolated, and template string</string>
            <key>begin</key>
            <string>\s*(\\+\$+#+|\\+#+\$+|\$+\\+#+|\$+#+\\+|#+\\+\$+|#+\$+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+%+#+|\\+#+%+|%+\\+#+|%+#+\\+|#+\\+%+|#+%+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+%+#+|\\+#+%+|%+\\+#+|%+#+\\+|#+\\+%+|#+%+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+%+#+|\\+#+%+|%+\\+#+|%+#+\\+|#+\\+%+|#+%+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim, format, and template string</string>
            <key>begin</key>
            <string>\s*(\\+%+#+|\\+#+%+|%+\\+#+|%+#+\\+|#+\\+%+|#+%+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|%%|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted interpolated and format string</string>
            <key>begin</key>
            <string>\s*(\$+%+|%+\$+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted interpolated and format string</string>
            <key>begin</key>
            <string>\s*(\$+%+|%+\$+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted interpolated and format string</string>
            <key>begin</key>
            <string>\s*(\$+%+|%+\$+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted interpolated and format string</string>
            <key>begin</key>
            <string>\s*(\$+%+|%+\$+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted interpolated and template string</string>
            <key>begin</key>
            <string>\s*(\$+#+|#+\$+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted interpolated and template string</string>
            <key>begin</key>
            <string>\s*(\$+#+|#+\$+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted interpolated and template string</string>
            <key>begin</key>
            <string>\s*(\$+#+|#+\$+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted interpolated and template string</string>
            <key>begin</key>
            <string>\s*(\$+#+|#+\$+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted format and template string</string>
            <key>begin</key>
            <string>\s*(%+#+|#+%+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted format and template string</string>
            <key>begin</key>
            <string>\s*(%+#+|#+%+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted format and template string</string>
            <key>begin</key>
            <string>\s*(%+#+|#+%+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted format and template string</string>
            <key>begin</key>
            <string>\s*(%+#+|#+%+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim and interpolated string</string>
            <key>begin</key>
            <string>\s*(\\+\$+|\$+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim and interpolated string</string>
            <key>begin</key>
            <string>\s*(\\+\$+|\$+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim and interpolated string</string>
            <key>begin</key>
            <string>\s*(\\+\$+|\$+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|\$\$</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim and interpolated string</string>
            <key>begin</key>
            <string>\s*(\\+\$+|\$+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|\$\$</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim and format string</string>
            <key>begin</key>
            <string>\s*(\\+%+|%+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim and format string</string>
            <key>begin</key>
            <string>\s*(\\+%+|%+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim and format string</string>
            <key>begin</key>
            <string>\s*(\\+%+|%+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim and format string</string>
            <key>begin</key>
            <string>\s*(\\+%+|%+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|%%</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim and template string</string>
            <key>begin</key>
            <string>\s*(\\+#+|#+\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim and template string</string>
            <key>begin</key>
            <string>\s*(\\+#+|#+\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim and template string</string>
            <key>begin</key>
            <string>\s*(\\+#+|#+\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim and template string</string>
            <key>begin</key>
            <string>\s*(\\+#+|#+\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""|##</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted interpolated string</string>
            <key>begin</key>
            <string>\s*(\$+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted interpolated string</string>
            <key>begin</key>
            <string>\s*(\$+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted interpolated string</string>
            <key>begin</key>
            <string>\s*(\$+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted interpolated string</string>
            <key>begin</key>
            <string>\s*(\$+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted format string</string>
            <key>begin</key>
            <string>\s*(%+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted format string</string>
            <key>begin</key>
            <string>\s*(%+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted format string</string>
            <key>begin</key>
            <string>\s*(%+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted format string</string>
            <key>begin</key>
            <string>\s*(%+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted template string</string>
            <key>begin</key>
            <string>\s*(#+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted template string</string>
            <key>begin</key>
            <string>\s*(#+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted template string</string>
            <key>begin</key>
            <string>\s*(#+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted template string</string>
            <key>begin</key>
            <string>\s*(#+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted verbatim string</string>
            <key>begin</key>
            <string>\s*(\\+)('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted verbatim string</string>
            <key>begin</key>
            <string>\s*(\\+)("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted verbatim string</string>
            <key>begin</key>
            <string>\s*(\\+)(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>''</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted verbatim string</string>
            <key>begin</key>
            <string>\s*(\\+)(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>""</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- single-quoted plain string</string>
            <key>begin</key>
            <string>\s*()('''+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>multi- double-quoted plain string</string>
            <key>begin</key>
            <string>\s*()("""+)\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>single-quoted plain string</string>
            <key>begin</key>
            <string>\s*()(')\s*</string>
            <key>contentName</key>
            <string>string.quoted.single.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!'+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>double-quoted plain string</string>
            <key>begin</key>
            <string>\s*()(")\s*</string>
            <key>contentName</key>
            <string>string.quoted.double.ruko</string>
            <key>end</key>
            <string>\s*((\2)(?!"+))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.string.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.string.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#string-escapes</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>string-escapes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(\\)(?=\s*$)</string>
            <key>end</key>
            <string>^\s*(?=\S)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.newline.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#unicode-escapes</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\([cm][a-z])</string>
            <key>name</key>
            <string>constant.character.control.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[abefprnstv]</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#named-escapes</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{S}</string>
            <key>name</key>
            <string>constant.character.escape.symbol.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{P}</string>
            <key>name</key>
            <string>constant.character.escape.punctuation.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[a-zA-Z\p{C}]</string>
            <key>name</key>
            <string>invalid.illegal.escape.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\s</string>
            <key>name</key>
            <string>constant.character.escape.space.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{L}</string>
            <key>name</key>
            <string>constant.character.escape.letter.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{N}</string>
            <key>name</key>
            <string>constant.character.escape.number.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\.</string>
            <key>name</key>
            <string>constant.character.escape.other.ruko</string>
          </dict>
        </array>
      </dict>
      <key>named-characters</key>
      <dict>
        <key>name</key>
        <string>string.unquoted.plain.in.ruko</string>
        <key>comment</key>
        <string>Grammar for the Unicode Named Character Mini-Language.</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>name</key>
            <string>constant.other.function.ruko</string>
            <key>begin</key>
            <string>\b([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b(?=\{)</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-namespace</string>
                  </dict>
                </array>
              </dict>
            </dict>
            <key>end</key>
            <string>(?=)|$</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(\{)</string>
                <key>end</key>
                <string>(\})</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.function.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#named-characters</string>
                  </dict>
                </array>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>\b([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b([;,]|(?=\W))</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#character-namespace</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#illegal</string>
          </dict>
        </array>
      </dict>
      <key>function-namespace</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>([\p{Pc}\p{L}]\w*)\b(?=[.:])</string>
            <key>name</key>
            <string>support entity.name.tag.namespace.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>([\p{Pc}\p{L}]\w*)\b</string>
            <key>name</key>
            <string>support entity.name.function.member.ruko</string>
          </dict>
        </array>
      </dict>
      <key>character-namespace</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>([\p{Pc}\p{L}]\w*)\b(?=[.:])</string>
            <key>name</key>
            <string>constant.other.character-class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>([\p{Pc}\p{L}]\w*)\b</string>
            <key>name</key>
            <string>constant.character.escape.unicode.ruko</string>
          </dict>
        </array>
      </dict>
      <key>named-escapes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>name</key>
            <string>constant.other.function.ruko</string>
            <key>begin</key>
            <string>\\j([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b(?=\{)</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-namespace</string>
                  </dict>
                </array>
              </dict>
            </dict>
            <key>end</key>
            <string>(?=)|$</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(\{)</string>
                <key>end</key>
                <string>(\})</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.function.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#named-characters</string>
                  </dict>
                </array>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>\\j([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b([;,]|(?=\W))</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#character-namespace</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>\\j{\s*</string>
            <key>end</key>
            <string>\s*}</string>
            <key>name</key>
            <string>constant.other.character-class.unicode.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>name</key>
                <string>constant.other.function.ruko</string>
                <key>begin</key>
                <string>\b([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b(?=\{)</string>
                <key>beginCaptures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>patterns</key>
                    <array>
                      <dict>
                        <key>include</key>
                        <string>#function-namespace</string>
                      </dict>
                    </array>
                  </dict>
                </dict>
                <key>end</key>
                <string>(?=)|$</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>begin</key>
                    <string>(\{)</string>
                    <key>end</key>
                    <string>(\})</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>constant.other.function.ruko</string>
                      </dict>
                    </dict>
                    <key>patterns</key>
                    <array>
                      <dict>
                        <key>include</key>
                        <string>#named-characters</string>
                      </dict>
                    </array>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>match</key>
                <string>\b([\p{Pc}\p{L}]\w*\b([:.][\p{Pc}\p{L}]\w*)*)\b([;,]|(?=\W))</string>
                <key>name</key>
                <string>constant.character.escape.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>patterns</key>
                    <array>
                      <dict>
                        <key>include</key>
                        <string>#character-namespace</string>
                      </dict>
                    </array>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#illegal</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>unicode-escapes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>standard \x escapes</string>
            <key>match</key>
            <string>\\x[0-7]\h</string>
            <key>name</key>
            <string>constant.character.escape.ascii.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Low surrogate pairs U+DC00-DFFF</string>
            <key>match</key>
            <string>\\u[dD][c-fC-F]\h{2}</string>
            <key>name</key>
            <string>constant.character.escape.surrogate-low.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>High surrogate pairs U+D800-DBFF</string>
            <key>match</key>
            <string>\\u[dD][89abAB]\h{2}</string>
            <key>name</key>
            <string>constant.character.escape.surrogate-high.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>UTF-8 continuation byte escape</string>
            <key>match</key>
            <string>\\x[89abAB]\h</string>
            <key>name</key>
            <string>constant.character.escape.continuation.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>UTF-8 2-byte sequence lead byte escape</string>
            <key>match</key>
            <string>\\x[cdCD]\h</string>
            <key>name</key>
            <string>constant.character.escape.lead.two.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>UTF-8 3-byte sequence lead byte escape</string>
            <key>match</key>
            <string>\\x[eE]\h</string>
            <key>name</key>
            <string>constant.character.escape.lead.three.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>UTF-8 4-byte sequence lead byte escape</string>
            <key>match</key>
            <string>\\x[fF][0-4]</string>
            <key>name</key>
            <string>constant.character.escape.lead.four.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Unused/illegal UTF-8 byte escapes</string>
            <key>match</key>
            <string>\\x\h{2}</string>
            <key>name</key>
            <string>invalid.illegal.escape.utf8.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Hexadecimal escape sequences</string>
            <key>match</key>
            <string>\\u\h{4}</string>
            <key>name</key>
            <string>constant.character.escape.unicode.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>UTF-32 escape sequences</string>
            <key>match</key>
            <string>\\U0*(10\h{6}|\h{1,5})</string>
            <key>name</key>
            <string>constant.character.escape.astral.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Binary escape sequences</string>
            <key>match</key>
            <string>\\b0*(10000[0-1]{16}|1[01]{0,19}|0)</string>
            <key>name</key>
            <string>constant.character.escape.binary.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Octal escape sequences</string>
            <key>match</key>
            <string>\\o0*(41[0-7]{5}|[1-3][0-7]{6}|[1-7][0-7]{0,5}|0)</string>
            <key>name</key>
            <string>constant.character.escape.octal.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Decimal escape sequences</string>
            <key>match</key>
            <string>\\0*(111411[10]|111410\d|11140\d{2}|111[0-3]\d{3}|110\d{4}|10\d{5}|[1-9]\d{0,5}|0)</string>
            <key>name</key>
            <string>constant.character.escape.numeric.ruko</string>
          </dict>
        </array>
      </dict>
      <key>embedded</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
        </array>
      </dict>
      <key>embedded-verbatim</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\#\#|\$\$|\%\%</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
        </array>
      </dict>
      <key>embedded-expressions</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Interpolated expression</string>
            <key>begin</key>
            <string>(\${)\s*</string>
            <key>end</key>
            <string>\s*(})</string>
            <key>name</key>
            <string>meta.embedded.expression.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.variable.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Interpolated expression</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>name</key>
            <string>meta.embedded.expression.ruko</string>
            <key>begin</key>
            <string>(?x)
(\$) # beginning of identifier
# ignore all keywords
(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)
(?=[\p{Pc}\p{L}]) # next to a word
</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.variable.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#constants</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#generics</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#brackets</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-function-calls</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&gt;|\w)(!)(?=#?[({])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.macro.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&gt;|\w)(~)(?=#?[({])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.destructor.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>comment</key>
                <string>Qualified name separators</string>
                <key>match</key>
                <string>(?&lt;=[)}\]\w])(?:(\?[.:&gt;]=?)|(![.:&gt;]=?)|((?:::|\.|-&gt;)=?))(?=[({\[\w])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.optional.ruko</string>
                  </dict>
                  <key>2</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.assert.ruko</string>
                  </dict>
                  <key>3</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.accessor.ruko</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>embedded-arguments</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>name</key>
            <string>meta.embedded.placeholder.ruko</string>
            <key>match</key>
            <string>(?x)
(\#) # sigil
(
  (?:
    (?:&amp;|%|\$|~~?|\*\*?)? # sigil
    [?!]? # required or optional
  )?
  [+-]? \d+ # start of range
  (?:
    (?:[&gt;.]\.[.&lt;]|\.\.|[=.]\.[.=]|\.\.=?|=\.=) # range operator
    [+-]? \d+ # end of range
    (?:
      \.{1,3}
      [+-]? \d+ # increment
    )?
  )?
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.anchor.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.decimal.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>[+-]</string>
                    <key>name</key>
                    <string>keyword.operator.arithmetic.ruko</string>
                  </dict>
                  <dict>
                    <key>match</key>
                    <string>(?:[&gt;.]\.[.&lt;]|\.\.|[=.]\.[.=]|\.\.=?|=\.=)</string>
                    <key>name</key>
                    <string>keyword.operator.range.ruko</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>name</key>
            <string>meta.embedded.placeholder.ruko</string>
            <key>match</key>
            <string>(?x)
(\#) # sigil
(?:
  \s*
  ((?:[*&amp;%@^!~?\\\-+]|\.{3})*) # any sigils
  ( # identifier
    (?: # function name
      \b
      # ignore all keywords
      (?!
        (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
        (?: # keywords
          [io]n|of|[ai]s|by|has|old|new|del
          |unset|ref|deref|and|x?or|not
          |const|let|mut|dyn|va[rl]|use
          |given|expr|eval|init|comp
          |func|pro[pc]|type|class|actor|trait
          |impl|enum|module|model|struct|record
          |union|iter|macro|query|elem|temp|oper
          |object|realm|style|script|quote
          |go|defer|do|with|from|where
          |if|else|then|guard|when
          |for|loop|while|goto|move
          |try|throw|catch|switch
          |match|case|pass|def|defer
          |break|skip|redo|retry
          |return|yield|await|scope
          |import|export|intern|extern
          |debug|assert|check|decl
        )
        \b
      )
      \b
      [\p{Pc}\p{L}]\w* # identifier
      \b
    )
  )
  ([!?]*) # optional sigils
  \s*
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.anchor.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.prefix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>variable.parameter.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#constants</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.suffix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>name</key>
            <string>meta.embedded.placeholder.ruko</string>
            <key>begin</key>
            <string>(\#{)\s*</string>
            <key>end</key>
            <string>\s*(})</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.anchor.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#parameter-variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>embedded-formatting</key>
      <dict>
        <key>comment</key>
        <string>Oniguruma supports only 20 levels of recursion</string>
        <key>applyEndPatternLast</key>
        <true/>
        <key>name</key>
        <string>meta.embedded.formatting.ruko</string>
        <key>begin</key>
        <string>(?&lt;!%)(%)(?=[\p{Pc}\p{L}])</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.directive.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#format-syntax</string>
          </dict>
        </array>
      </dict>
      <key>format-syntax</key>
      <dict>
        <key>comment</key>
        <string>Format specifier language, inspired by MS-DOS, Bash and Python's f-strings.</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>with optional value</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>(?:(?&lt;=%)|(\|))([\p{Pc}\p{L}]\w*)\b(:)</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>name</key>
            <string>storage.type.format.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.mapping.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.key-value.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#constants</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#generics</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#brackets</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-function-calls</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&gt;|\w)(!)(?=#?[({])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.macro.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&gt;|\w)(~)(?=#?[({])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.destructor.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexps</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#symbols</string>
              </dict>
              <dict>
                <key>comment</key>
                <string>Qualified name separators</string>
                <key>match</key>
                <string>(?&lt;=[)}\]\w])(?:(\?[.:&gt;]=?)|(![.:&gt;]=?)|((?:::|\.|-&gt;)=?))(?=[({\[\w])</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.optional.ruko</string>
                  </dict>
                  <key>2</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.assert.ruko</string>
                  </dict>
                  <key>3</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.accessor.ruko</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>type specifier</string>
            <key>match</key>
            <string>(?:(?&lt;=%)|(\|))([\p{Pc}\p{L}]\w*)\b</string>
            <key>name</key>
            <string>storage.type.format.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.mapping.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>// for multiple flags at once with single-character aliases</string>
            <key>match</key>
            <string>(?:(?&lt;=%)|(//))([\p{Pc}\p{L}]\w*)\b</string>
            <key>name</key>
            <string>storage.type.format.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.flag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>/ for a single flag, with optional arguments</string>
            <key>match</key>
            <string>(?:(?&lt;=%)|(/))([\p{Pc}\p{L}]\w*)\b</string>
            <key>name</key>
            <string>storage.type.format.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.flag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#format-switch-clause</string>
          </dict>
        </array>
      </dict>
      <key>format-switch-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>// for multiple flags at once with single-character aliases</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>(?:(?&lt;=%)|(//))([\p{Pc}\p{L}]\w*)\b</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.flag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>comment</key>
                <string>Format switch without value</string>
                <key>match</key>
                <string>([\p{Pc}\p{L}]\w*)</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.other.flag.ruko</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>/ for a single flag, with optional arguments</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>(?:(?&lt;=%)|(/))([\p{Pc}\p{L}]\w*)\b</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.flag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.format.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>comment</key>
                <string>Format switch without value</string>
                <key>match</key>
                <string>([\p{Pc}\p{L}]\w*)</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.modifier.ruko</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>regexps</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>(?x)
(?&lt;=
  (?:
      # beginning of line
      ^
    | # separator
      [,;]
    | # opening bracket
      \#? [({\[]
    | # postfix or infix operator
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ \s
    | # a keyword
      (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
      [\p{Pc}\p{L}]\w*  # keyword or identifier
  ) \s*
) \s*
(?=/(?:$|[^\s/]))
</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>name</key>
        <string>meta.regexp.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>comment</key>
            <string>Single-line pattern section</string>
            <key>begin</key>
            <string>(/)(?!/)\s*</string>
            <key>end</key>
            <string>\s*(/)(\p{L}*)</string>
            <key>contentName</key>
            <string>string.regexp.pattern.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.regexp.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.other.flag.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
              <dict>
                <key>comment</key>
                <string>Single-line replacement section</string>
                <key>begin</key>
                <string>(:)\s*</string>
                <key>end</key>
                <string>\s*(\|)|\s*(?=/)</string>
                <key>name</key>
                <string>string.regexp.replace.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.regexp.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#back-references</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                </array>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>fuzzy-expression</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#clauses</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#declarations</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#fuzzy-brackets</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b[\p{Pc}\p{L}]\w*\b</string>
            <key>name</key>
            <string>keyword.other.unit.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>fuzzy-brackets</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.mapping.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#fuzzy-expression</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[)\s*</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.sequence.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#fuzzy-expression</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.expression.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#fuzzy-expression</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>back-references</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\$(\d+[+-]?|[+-]\d*)</string>
            <key>name</key>
            <string>keyword.other.back-reference.ruko</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\$&lt;)\s*</string>
            <key>end</key>
            <string>\s*(&gt;)</string>
            <key>name</key>
            <string>keyword.other.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.back-reference.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\$(['"]))\s*</string>
            <key>end</key>
            <string>\s*(\2)</string>
            <key>name</key>
            <string>keyword.other.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.back-reference.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>regexp-patterns</key>
      <dict>
        <key>comment</key>
        <string>See https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816
and https://www.regular-expressions.info/
</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strings</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#unicode-escapes</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\|</string>
            <key>name</key>
            <string>keyword.operator.or.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\&amp;</string>
            <key>name</key>
            <string>keyword.operator.compose.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\.</string>
            <key>name</key>
            <string>constant.character.all.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\\[by](?:{(?:[^\\{}]|\\.)+})?</string>
            <key>name</key>
            <string>keyword.control.anchor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(\\[aAm&lt;]|\^+)(?:{(?:[^\\{}]|\\.)+})?</string>
            <key>name</key>
            <string>keyword.control.begin.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(\\[zZM&gt;]|\$+)(?:{(?:[^\\{}]|\\.)+})?</string>
            <key>name</key>
            <string>keyword.control.end.ruko}</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\K</string>
            <key>name</key>
            <string>keyword.control.keep-out.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\G</string>
            <key>name</key>
            <string>keyword.control.search.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\R</string>
            <key>name</key>
            <string>constant.character.control.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[XO]</string>
            <key>name</key>
            <string>constant.character.unicode.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\d+</string>
            <key>name</key>
            <string>keyword.other.back-reference.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\{\s*(?:\d*\s*,){,2}\s*\d*\s*}\s*(?:(\?)|(\+)|(\*))?</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.quantifier.ruko</string>
              </dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.lazy.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.eager.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.greedy.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?:(\?)|(\+)|(\*))\s*(?:(\?)|(\+)|(\*))?</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.quantifier.lazy.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.quantifier.eager.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.quantifier.greedy.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.lazy.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.eager.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.modifier.greedy.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\\k&lt;)</string>
            <key>end</key>
            <string>\s*(&gt;)</string>
            <key>name</key>
            <string>constant.other.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.back-reference.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\\g&lt;)</string>
            <key>end</key>
            <string>\s*(&gt;)</string>
            <key>name</key>
            <string>constant.other.subroutine.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.subroutine.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\\k('''+|"""+|['"]))</string>
            <key>end</key>
            <string>\s*(\2)</string>
            <key>name</key>
            <string>constant.other.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.back-reference.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\\g('''+|"""+|['"]))</string>
            <key>end</key>
            <string>\s*(\2)</string>
            <key>name</key>
            <string>constant.other.subroutine.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.subroutine.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#numbers</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>({)</string>
            <key>end</key>
            <string>\s*(})</string>
            <key>name</key>
            <string>meta.fuzzy.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.fuzzy.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=^|\\.|[,;'"`({\[)}\]\w\s])(:)</string>
                <key>beginCaptures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.separator.key-value.ruko</string>
                  </dict>
                </dict>
                <key>end</key>
                <string>(?=[,;}]|)|$</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#regexp-patterns</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#fuzzy-expression</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[abefrntv]</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[wsdhulqmji]</string>
            <key>name</key>
            <string>constant.other.character-class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[WSDHULQMJI]</string>
            <key>name</key>
            <string>constant.other.character-class.negated.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexp-groups</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexp-character-set</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexp-character-class</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>regexp-groups</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Backtracking control verb</string>
            <key>begin</key>
            <string>(\(\*([\p{Pc}\p{L}]\w*)?(:)?)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.backtrack.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.section.expression.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.control.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.colon.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Block comment</string>
            <key>begin</key>
            <string>(\()(\?#)</string>
            <key>contentName</key>
            <string>comment.block.regexp.ruko</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>comment.block.regexp.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.comment.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\\.</string>
                <key>name</key>
                <string>comment.block.regexp.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Lookahead assertion</string>
            <key>begin</key>
            <string>(\(\?=)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.look-ahead.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.look-ahead.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Lookbehind assertion</string>
            <key>begin</key>
            <string>(\(\?&lt;=)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.look-behind.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.look-behind.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Negative lookahead assertion</string>
            <key>begin</key>
            <string>(\(\?!)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.negative-look-ahead.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.negative-look-ahead.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Negative lookbehind assertion</string>
            <key>begin</key>
            <string>(\(\?&lt;!)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.negative-look-behind.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.negative-look-behind.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Match directive Oniguruma supports only 20 levels of recursion</string>
            <key>begin</key>
            <string>(?x)(\(\?)(?=%)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.directive.ruko</string>
              </dict>
            </dict>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.directive.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#format-syntax</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Longest match</string>
            <key>begin</key>
            <string>(\(\?/=?)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.longest.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.longest.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Back-reference groups</string>
            <key>begin</key>
            <string>\((\?&amp;(?:([+-]?\d+)|([\p{Pc}\p{L}]\w*)))(:)?</string>
            <key>end</key>
            <string>\s*\)</string>
            <key>name</key>
            <string>meta.group.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.back-reference.ruko</string>
              </dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.back-reference.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.index.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#variables</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.colon.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Back-reference groups</string>
            <key>begin</key>
            <string>\((\?&amp;)</string>
            <key>end</key>
            <string>\s*\)</string>
            <key>name</key>
            <string>meta.group.back-reference.ruko</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.back-reference.ruko</string>
              </dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.back-reference.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(?&lt;=\(\?&amp;)('''+|"""+|['"])</string>
                <key>end</key>
                <string>\s*(\1)</string>
                <key>name</key>
                <string>constant.other.group.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.group.back-reference.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#variables</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#numbers</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#operators</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Flag modifier group</string>
            <key>begin</key>
            <string>(\(\?\^?(?:([+-]?\d+?)|((?:[+-]\p{Lu}+)+|\p{Lu}+(?:[+-]\p{Lu}+)*)|((?:[+-]\p{Ll}+)+|\p{Ll}+(?:[+-]\p{Ll}+)*)))\s*(:)?</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.flag.ruko</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.flag.ruko</string>
              </dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.flag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.index.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.control.recursion.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.other.flag.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.colon.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Call-outs</string>
            <key>begin</key>
            <string>(\(\?)(?={)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.call-out.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.call-out.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(?&lt;=\(\?)({)</string>
                <key>end</key>
                <string>\s*(\})\s*([&lt;*&gt;])?(?:(\[)(.*?)(\]))?</string>
                <key>name</key>
                <string>punctuation.definition.group.call-out.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.group.call-out.ruko</string>
                  </dict>
                  <key>2</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.range.ruko</string>
                  </dict>
                  <key>3</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.tag.ruko</string>
                  </dict>
                  <key>4</key>
                  <dict>
                    <key>patterns</key>
                    <array>
                      <dict>
                        <key>include</key>
                        <string>#function-names</string>
                      </dict>
                    </array>
                  </dict>
                  <key>5</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.tag.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>$self</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Atomic groups</string>
            <key>begin</key>
            <string>(\(\?&gt;)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.atomic.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.atomic.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Non-capturing groups</string>
            <key>begin</key>
            <string>(\(\?:)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.non-capturing.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.non-capturing.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Branch groups</string>
            <key>begin</key>
            <string>(\(\?)(?=[(|])</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.branch.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.branch.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Absent groups</string>
            <key>begin</key>
            <string>(\(\?~)</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.absent.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.absent.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Named groups (angle brackets)</string>
            <key>begin</key>
            <string>\(\?(?=&lt;(?![!=]))</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.named.ruko</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.named.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(?&lt;=\(\?)(&lt;)</string>
                <key>end</key>
                <string>\s*(&gt;)</string>
                <key>name</key>
                <string>constant.other.group.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.group.named.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#variables</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#numbers</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#operators</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Named groups (single or double-quotes)</string>
            <key>begin</key>
            <string>\(\?(?=['"])</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.group.named.ruko</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.named.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(?&lt;=\(\?)('''+|"""+|['"])</string>
                <key>end</key>
                <string>\s*(\1)</string>
                <key>name</key>
                <string>constant.other.group.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.group.named.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#variables</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#numbers</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#operators</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Unnamed groups</string>
            <key>begin</key>
            <string>(\()</string>
            <key>end</key>
            <string>(\s*\))</string>
            <key>name</key>
            <string>meta.group.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.group.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>regexp-character-class</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#embedded</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\\)(?=\s*$)</string>
            <key>end</key>
            <string>^\s*(?=\S)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.newline.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#named-escapes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#unicode-escapes</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?i)\\p{</string>
            <key>end</key>
            <string>\s*}</string>
            <key>name</key>
            <string>constant.other.character-class.unicode.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#attribute-selectors</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\\([cm][a-z])</string>
            <key>name</key>
            <string>constant.character.control.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\\p[a-z]{1,2}</string>
            <key>name</key>
            <string>constant.other.character-class.unicode.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\\[ci]({\w+})?</string>
            <key>name</key>
            <string>constant.other.character-class.xml.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\\n{(?:[^\\{}]|\\.)+}</string>
            <key>name</key>
            <string>constant.character.escape.unicode.name.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[abefprntv]</string>
            <key>name</key>
            <string>constant.character.escape.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[a-z]</string>
            <key>name</key>
            <string>constant.other.character-class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[A-Z]</string>
            <key>name</key>
            <string>constant.other.character-class.negated.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{S}</string>
            <key>name</key>
            <string>constant.character.escape.symbol.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{P}</string>
            <key>name</key>
            <string>constant.character.escape.punctuation.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\[a-zA-Z\p{C}]</string>
            <key>name</key>
            <string>invalid.illegal.escape.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\s</string>
            <key>name</key>
            <string>constant.character.escape.space.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{L}</string>
            <key>name</key>
            <string>constant.character.escape.letter.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\\p{N}</string>
            <key>name</key>
            <string>constant.character.escape.number.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\\.</string>
            <key>name</key>
            <string>constant.character.escape.other.ruko</string>
          </dict>
        </array>
      </dict>
      <key>regexp-character-operators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)
( # from
    \\0*(?:111411[10]|111410\d|11140\d{2}|111[0-3]\d{3}|110\d{4}|10\d{5}|[1-9]\d{0,5}|0) # decimal escape
  | \\o0*(?:41[0-7]{5}|[1-3][0-7]{6}|[1-7][0-7]{0,5}|0) # octal escape
  | \\b0*(?:10000[0-1]{16}|1[01]{0,19}|0) # binary escape
  | \\x\h\h # hex escape (2-digit)
  | \\u\h{4} # hex escape (4-digit)
  | \\U0*(?:10\h{6}|\h{1,5}) # hex escape (variable-length)
  | \\[cm][a-z] # meta-character
  | \\j{(?:[^\\{}]|\\.)+} # Unicode named character
  | \\(?:[abefprntv]|[^a-zA-Z]) # any escape character
  | [^\-\\\[\]] # any unescaped character
)
  \s*(&gt;?-&gt;?)\s* # range
( # to
    \\0*(?:111411[10]|111410\d|11140\d{2}|111[0-3]\d{3}|110\d{4}|10\d{5}|[1-9]\d{0,5}|0) # decimal escape
  | \\o0*(?:41[0-7]{5}|[1-3][0-7]{6}|[1-7][0-7]{0,5}|0) # octal escape
  | \\b0*(?:10000[0-1]{16}|1[01]{0,19}|0) # binary escape
  | \\x\h\h # hex escape (2-digit)
  | \\u\h{4} # hex escape (4-digit)
  | \\U0*(?:10\h{6}|\h{1,5}) # hex escape (variable-length)
  | \\[cm][a-z] # meta-character
  | \\j{(?:[^\\{}]|\\.)+} # Unicode named character
  | \\(?:[abefprntv]|[^a-zA-Z]) # any escape character
  | [^\-\\\[\]] # any unescaped character
) (?:
    \s*(:)\s*
  ( # by
      -?0*(?:111411[10]|111410\d|11140\d{2}|111[0-3]\d{3}|110\d{4}|10\d{5}|[1-9]\d{0,5}|0) # decimal
    | -?0o0*(?:41[0-7]{5}|[1-3][0-7]{6}|[1-7][0-7]{0,5}|0) # octal
    | -?0b0*(?:10000[0-1]{16}|1[01]{0,19}|0) # binary
    | -?0x(?:10\h{6}|\h{1,5}) # hexadecimal
  )
)?
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>constant.other.character-class.range.from.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-class</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-operators</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.range.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>constant.other.character-class.range.to.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-class</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-operators</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.range.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.other.character-class.range.by.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#numbers</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-class</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#regexp-character-operators</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(\|\|)|(&amp;&amp;)|(\^\^)|(--)</string>
            <key>name</key>
            <string>keyword.operator.set.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.union.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.intersection.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.exclusion.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.difference.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>regexp-character-set</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(\[:)</string>
            <key>end</key>
            <string>\s*(:\])</string>
            <key>name</key>
            <string>constant.other.character-set.posix.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.character-class.posix.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#attribute-selectors</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[\^)</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>constant.other.character-set.negated.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.character-class.negated.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#comments</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-class</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-set</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[)</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>constant.other.character-set.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.character-class.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#comments</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-operators</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-class</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#regexp-character-set</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>attribute-selectors</key>
      <dict>
        <key>name</key>
        <string>meta.attribute-selector.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>[:!=&lt;/&gt;.^$%?*+|&amp;~]?=</string>
            <key>name</key>
            <string>keyword.operator.pattern.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\&amp;\&amp;|\|\||\^\^|\!</string>
            <key>name</key>
            <string>keyword.operator.logical.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>,</string>
            <key>name</key>
            <string>punctuation.separator.sequence.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(is\s+not|is|has\s+not|has|has\s+not|has)\b</string>
            <key>name</key>
            <string>keyword.operator.expression.is.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(not\s+)?([io]n|of)\b</string>
            <key>name</key>
            <string>keyword.operator.expression.$2.ruko</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b([\p{Pc}\p{L}]\w*)\b([:!=&lt;/&gt;.^$%?*+|&amp;~]?=)</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.other.attribute-name.key.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.pattern.ruko</string>
              </dict>
            </dict>
            <key>end</key>
            <string>(?=\&amp;\&amp;|\|\||\^\^|[\s,:;'"`)}\]]|\\.)</string>
            <key>name</key>
            <string>string.unquoted.attribute-name.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?xi)\b[is]\b\s*(?=[)}\]]|([&amp;|^])\1)</string>
            <key>name</key>
            <string>storage.modifier.ignore-when.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#string-escapes</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Attribute names</string>
            <key>match</key>
            <string>\b([\p{Pc}\p{L}]\w*)\b</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.other.attribute-name.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.pattern.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#operators</string>
          </dict>
        </array>
      </dict>
      <key>splice-brackets</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(&lt;\{)</string>
            <key>end</key>
            <string>(\}&gt;)</string>
            <key>name</key>
            <string>meta.splicing.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.splice.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.splice.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(&lt;\[)</string>
            <key>end</key>
            <string>(\]&gt;)</string>
            <key>name</key>
            <string>meta.splicing.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.splice.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.splice.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>xml</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>comment</key>
        <string>Only captured when next to opening brackets, commas, semicolons, keywords, and operators. XML also supports functional components.</string>
        <key>begin</key>
        <string>(?x)
(?&lt;=
  (?:
      # beginning of line
      ^
    | # separator
      [,;]
    | # opening bracket
      \#? [({\[]
    | # postfix or infix operator
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ \s
    | # a keyword
      (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
      [\p{Pc}\p{L}]\w*  # keyword or identifier
  ) \s*
) \s*
(?=&lt;[&gt;\p{Pc}\p{L}(])
</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#tag-component-name</string>
          </dict>
        </array>
      </dict>
      <key>tag-component-name</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>XML Fragment</string>
            <key>contentName</key>
            <string>text.html.fragment.ruko</string>
            <key>begin</key>
            <string>(&lt;)(?=&gt;)</string>
            <key>end</key>
            <string>(?&lt;=&lt;/)(&gt;)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#tag-termination</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Expression tags like &lt;( ... )&gt;.</string>
            <key>contentName</key>
            <string>text.html.ruko</string>
            <key>begin</key>
            <string>(&lt;)(\()</string>
            <key>end</key>
            <string>(?x) \s*
(?:
    (/&gt;) # Tags implicitly closed.
  | ((?&lt;=&lt;/).*?)(&gt;)
) \s*
</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.expression.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.expression.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>(?&lt;=&lt;\()\s*</string>
                <key>end</key>
                <string>\s*(\))</string>
                <key>name</key>
                <string>meta.expression.tag.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.expression.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>$self</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#tag-attributes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#tag-termination</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&lt;/)(&gt;)</string>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Tags that end &gt; are trapped in tag-termination</string>
            <key>contentName</key>
            <string>text.html.ruko</string>
            <key>begin</key>
            <string>(?x)
(&lt;) # start tag begin
(
  (?:
    \b
    [\p{Pc}\p{L}]\w* # identifier
    \b
    (?:[?!:]:|[?!]?\.|[?!-]&gt;) # qualified name separator
  )*
  [\p{Pc}\p{L}]\w* # last part of identifier
  \b
)
(?=[,;'"`({\[)}\]/&gt;\s])
</string>
            <key>end</key>
            <string>(?x) \s*
(?:
    (?&lt;=&lt;/)(\2)?(&gt;) # explicit end tag
  | (/&gt;) # self-closing tag
  | ((?&lt;=&lt;/).*?)(&gt;)
) \s*
</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#tag-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>meta.tag.ruko</string>
              </dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#tag-names</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>invalid.illegal.termination.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#tag-attributes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#tag-termination</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=&lt;/)(&gt;)</string>
                <key>name</key>
                <string>punctuation.definition.tag.ruko</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>xml-comments</key>
      <dict>
        <key>begin</key>
        <string>(&lt;!--)</string>
        <key>end</key>
        <string>(--&gt;)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.comment.ruko</string>
          </dict>
        </dict>
        <key>name</key>
        <string>comment.block.html.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-comments</string>
          </dict>
        </array>
      </dict>
      <key>tag-termination</key>
      <dict>
        <key>comment</key>
        <string>uses non consuming search for &lt;/ in &lt;/tag&gt;</string>
        <key>contentName</key>
        <string>meta.xml.children.ruko</string>
        <key>begin</key>
        <string>(&gt;)</string>
        <key>end</key>
        <string>(&lt;/(?=\b|&gt;))</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.tag.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#evaluated-code</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-entities</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#tag-component-name</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#markdown</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-comments</string>
          </dict>
        </array>
      </dict>
      <key>tag-attributes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*([@#&amp;*|%.:~^?]|::)(?=[\w$'"`])</string>
            <key>name</key>
            <string>punctuation.definition.entity.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#spread-attribute</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-attribute</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#attribute-directive</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#attribute-assignment</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#attribute-names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#hex-colors</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#variables</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>attribute-directive</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*([@#&amp;*%|:?])([\p{Pc}\p{L}][\p{Pd}\w]*)\b\s*</string>
            <key>name</key>
            <string>meta.attribute.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.other.attribute-name.directive.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>style-attribute</key>
      <dict>
        <key>begin</key>
        <string>\s*(style)\s*(=)\s*({)\s*</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.style.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.key-value.ruko</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.style-block.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>\s*(})\s*</string>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.style-block.ruko</string>
          </dict>
        </dict>
        <key>name</key>
        <string>meta.attribute.style.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#style-properties</string>
          </dict>
        </array>
      </dict>
      <key>attribute-assignment</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>\s*([\p{Pc}\p{L}][\p{Pd}\w]*)\s*(=)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>entity.other.attribute-name.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\@)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>keyword.control.at-rule.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\#)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.id.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\.)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.class.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=::)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.pseudo-component.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\~)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.key.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\&amp;)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.type.anchor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\*)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.type.alias.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\%)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.function.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\|)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.method.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\:)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.procedure.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\^)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.property.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\?)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.predicate.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#css-property-names</string>
              </dict>
            </array>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.key-value.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=)|$</string>
        <key>name</key>
        <string>meta.attribute.assignment.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#attribute-values</string>
          </dict>
        </array>
      </dict>
      <key>attribute-values</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
        </array>
      </dict>
      <key>attribute-names</key>
      <dict>
        <key>match</key>
        <string>\s*([\p{Pc}\p{L}][\p{Pd}\w]*)\b(?!\s*=)\s*</string>
        <key>name</key>
        <string>meta.attribute.boolean.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>entity.other.attribute-name.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\@)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>keyword.control.at-rule.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\#)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.id.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\.)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.class.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=::)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.pseudo-component.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\~)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.key.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\&amp;)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.type.anchor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\*)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.type.alias.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\%)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.function.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\|)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.method.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\:)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.procedure.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\^)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.property.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;=\?)[\p{Pc}\p{L}]\w*\b\s*</string>
                <key>name</key>
                <string>entity.other.attribute-name.ruko entity.name.predicate.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#css-property-names</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>spread-attribute</key>
      <dict>
        <key>comment</key>
        <string>Spread *attribute</string>
        <key>match</key>
        <string>\s*(?&lt;!\*)(\*\*?)(?!\*)\s*</string>
        <key>name</key>
        <string>keyword.operator.spread.ruko</string>
      </dict>
      <key>xml-entities</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?xi)
(&amp;)(?:
    (\#\d+)
  | (\#b[01]+)
  | (\#q[0-3]+)
  | (\#s[0-5]+)
  | (\#o[0-7]+)
  | (\#z(?i:[\dabetx]+))
  | (\#x\h+)
  | ([\p{Pc}\p{L}]\w*)
  | ((?:\\.|[^({\[)}\]\s;])+?)
)(;)
</string>
            <key>name</key>
            <string>constant.other.entity.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.entity.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.decimal.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.binary.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.quaternary.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.senary.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.octal.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.duodecimal.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>name</key>
                <string>constant.character.escape.hexadecimal.ruko</string>
              </dict>
              <key>9</key>
              <dict>
                <key>name</key>
                <string>constant.character.entity.named.ruko</string>
              </dict>
              <key>10</key>
              <dict>
                <key>name</key>
                <string>constant.character.entity.ruko</string>
              </dict>
              <key>11</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.entity.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>&amp;(?=\w*;)</string>
            <key>name</key>
            <string>invalid.illegal.ambiguous-ampersand.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Entity with &amp; and invalid name</string>
            <key>match</key>
            <string>&amp;\s*+;</string>
            <key>name</key>
            <string>invalid.illegal.bad-ampersand.ruko</string>
          </dict>
        </array>
      </dict>
      <key>inline-markdown</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>ampersand</key>
      <dict>
        <key>comment</key>
        <string>Markdown will convert this for us. We match it so that the HTML grammar will not mark it up as invalid.</string>
        <key>match</key>
        <string>&amp;(?!([a-zA-Z\d]+|#[\d]+|#x\h+);)</string>
        <key>name</key>
        <string>meta.other.valid-ampersand.markdown</string>
      </dict>
      <key>bold</key>
      <dict>
        <key>begin</key>
        <string>(\*\*|\b__)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.bold.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(\1)</string>
        <key>name</key>
        <string>markup.bold.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>italic</key>
      <dict>
        <key>begin</key>
        <string>(\*|\b_)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.italic.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(\1)((?!\1)|(?=\1\1))</string>
        <key>name</key>
        <string>markup.italic.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>strikethrough</key>
      <dict>
        <key>begin</key>
        <string>(~~)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.strikethrough.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(~~)</string>
        <key>name</key>
        <string>markup.strikethrough.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>underline</key>
      <dict>
        <key>begin</key>
        <string>(\+\+)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.underline.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(\+\+)</string>
        <key>name</key>
        <string>markup.underline.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>redacted</key>
      <dict>
        <key>begin</key>
        <string>(\|\|)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.redacted.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(\|\|)</string>
        <key>name</key>
        <string>markup.redacted.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>highlight</key>
      <dict>
        <key>begin</key>
        <string>(==)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.highlight.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(==)</string>
        <key>name</key>
        <string>markup.highlight.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>superscript</key>
      <dict>
        <key>begin</key>
        <string>(\^)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.superscript.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(\^)</string>
        <key>name</key>
        <string>markup.superscript.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#subscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>subscript</key>
      <dict>
        <key>begin</key>
        <string>(~)(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.subscript.markdown</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;=\S)(~)</string>
        <key>name</key>
        <string>markup.subscript.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#ampersand</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bracket</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#bold</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#italic</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#underline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#strikethrough</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#superscript</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#redacted</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#highlight</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#raw</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#escape</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#image-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-email</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inet</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-literal</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#link-ref-shortcut</string>
          </dict>
        </array>
      </dict>
      <key>bracket</key>
      <dict>
        <key>comment</key>
        <string>Markdown will convert this for us. We match it so that the HTML grammar will not mark it up as invalid.</string>
        <key>match</key>
        <string>&lt;(?![a-zA-Z/?\$!])</string>
        <key>name</key>
        <string>meta.other.valid-bracket.markdown</string>
      </dict>
      <key>escape</key>
      <dict>
        <key>comment</key>
        <string>Escape characters in Markdown</string>
        <key>match</key>
        <string>\\[-`*_#+.!({\[)}\]\\&gt;~|=]</string>
        <key>name</key>
        <string>constant.character.escape.markdown</string>
      </dict>
      <key>image-inline</key>
      <dict>
        <key>comment</key>
        <string>Inline image ![alt text](url "optional title")</string>
        <key>match</key>
        <string>(?x)
(\!\[)((?&lt;square&gt;[^\[\]\\]|\\.|\[\g&lt;square&gt;*+\])*+)(\])
# Match the link text.
(\() # Opening paren for url
  (&lt;?)(\S+?)(&gt;?) # The url
  [ \t]* # Optional whitespace
  (?:
      ((\().+?(\))) # Match title in parens...
    | ((").+?(")) # or in double quotes...
    | ((').+?(')) # or in single quotes.
  )? # Title is optional
  \s* # Optional whitespace
(\))
</string>
        <key>name</key>
        <string>meta.image.inline.markdown</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.metadata.markdown</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>7</key>
          <dict>
            <key>name</key>
            <string>markup.underline.link.image.markdown</string>
          </dict>
          <key>8</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>9</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>10</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>11</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>12</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>13</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>14</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>15</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>16</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>17</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.markdown</string>
          </dict>
          <key>18</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.metadata.markdown</string>
          </dict>
        </dict>
      </dict>
      <key>image-ref</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.markdown</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>constant.other.reference.link.markdown</string>
          </dict>
          <key>7</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(\!\[)((?&lt;square&gt;[^\[\]\\]|\\.|\[\g&lt;square&gt;*+\])*+)(\])[ ]?(\[)(.*?)(\])</string>
        <key>name</key>
        <string>meta.image.reference.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-email</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>markup.underline.link.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(&lt;)((?:mailto:)?[a-zA-Z\d.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z\d-]+(?:\.[a-zA-Z\d-]+)*)(&gt;)</string>
        <key>name</key>
        <string>meta.link.email.lt-gt.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-inet</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>markup.underline.link.markdown</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(&lt;)((?:https?|ftp)://.*?)(&gt;)</string>
        <key>name</key>
        <string>meta.link.inet.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-inline</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.title.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.metadata.markdown</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>7</key>
          <dict>
            <key>name</key>
            <string>markup.underline.link.markdown</string>
          </dict>
          <key>9</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.link.markdown</string>
          </dict>
          <key>10</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>11</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>12</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>13</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>14</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>15</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>16</key>
          <dict>
            <key>name</key>
            <string>string.other.link.description.title.markdown</string>
          </dict>
          <key>17</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>18</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>19</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.metadata.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(?x)
(\[)((?&lt;square&gt;[^\[\]\\]|\\.|\[\g&lt;square&gt;*+\])*+)(\])
# Match the link text.
(\() # Opening paren for url
  (&lt;?)((?&lt;url&gt;(?&gt;[^\s()]+)|\(\g&lt;url&gt;*\))*)(&gt;?) # The url
  [ \t]* # Optional whitespace
  (?:
      ((\().+?(\))) # Match title in parens...
    | ((").+?(")) # or in double quotes...
    | ((').+?(')) # or in single quotes.
  )? # Title is optional
  \s* # Optional whitespace
(\))
</string>
        <key>name</key>
        <string>meta.link.inline.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-ref</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.title.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.begin.markdown</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>constant.other.reference.link.markdown</string>
          </dict>
          <key>7</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.end.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(\[)((?&lt;square&gt;[^\[\]\\]|\\.|\[\g&lt;square&gt;*+\])*+)(\])(\[)([^\]]*+)(\])</string>
        <key>name</key>
        <string>meta.link.reference.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-ref-literal</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.title.markdown</string>
          </dict>
          <key>4</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
          <key>5</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.begin.markdown</string>
          </dict>
          <key>6</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.end.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(\[)((?&lt;square&gt;[^\[\]\\]|\\.|\[\g&lt;square&gt;*+\])*+)(\])[ ]?(\[)(\])</string>
        <key>name</key>
        <string>meta.link.reference.literal.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>link-ref-shortcut</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>string.other.link.title.markdown</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.string.end.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(\[)(\S+?)(\])</string>
        <key>name</key>
        <string>meta.link.reference.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>raw</key>
      <dict>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.raw.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#xml-regex-content</string>
              </dict>
            </array>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.raw.markdown</string>
          </dict>
        </dict>
        <key>match</key>
        <string>(`+)([^`]|(?!(?&lt;!`)\1(?!`))`)*+(\1)</string>
        <key>name</key>
        <string>markup.inline.raw.string.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
        </array>
      </dict>
      <key>xml-regex-content</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#string-escapes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-verbatim</string>
          </dict>
        </array>
      </dict>
      <key>markdown</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-entities</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#html-tag</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#xml-regex-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#evaluated-code</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#inline-styles</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#headings</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#blockquote</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#unordered-list</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#ordered-list</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#inline-markdown</string>
          </dict>
        </array>
      </dict>
      <key>headings</key>
      <dict>
        <key>comment</key>
        <string>### Headings</string>
        <key>begin</key>
        <string>^\s*(#{1,6})\s+(.*)\n*</string>
        <key>end</key>
        <string>^(?=\S)|(?!\G)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.heading.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=######\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.6.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=#####\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.5.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=####\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.4.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=###\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.3.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=##\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.2.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>(?&lt;=#\s*)</string>
                <key>end</key>
                <string>(?=|$)</string>
                <key>name</key>
                <string>heading.1.markdown entity.name.section.markdown</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#markdown</string>
                  </dict>
                </array>
              </dict>
            </array>
          </dict>
        </dict>
        <key>name</key>
        <string>markup.heading.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#markdown</string>
          </dict>
        </array>
      </dict>
      <key>blockquote</key>
      <dict>
        <key>comment</key>
        <string>* blockquote</string>
        <key>begin</key>
        <string>^\s*(\*)(\s+.*)\n*</string>
        <key>end</key>
        <string>^(?=\S)|(?!\G)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.quote.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>markup.quote.markdown</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#markdown</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>name</key>
        <string>markup.quote.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#markdown</string>
          </dict>
        </array>
      </dict>
      <key>unordered-list</key>
      <dict>
        <key>comment</key>
        <string>- unordered list</string>
        <key>begin</key>
        <string>^\s*(\-)(?!&gt;)\s+(.*)\n*</string>
        <key>end</key>
        <string>^(?=\S)|(?!\G)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.list.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>markup.list.unnumbered.markdown</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#markdown</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>name</key>
        <string>markup.list.unnumbered.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#markdown</string>
          </dict>
        </array>
      </dict>
      <key>ordered-list</key>
      <dict>
        <key>comment</key>
        <string>+ ordered list</string>
        <key>begin</key>
        <string>^\s*(\+)(?!&gt;)\s+(.*)\n*</string>
        <key>end</key>
        <string>^(?=\S)|(?!\G)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.list.begin.markdown</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>markup.list.numbered.markdown</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#markdown</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>name</key>
        <string>markup.list.numbered.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#markdown</string>
          </dict>
        </array>
      </dict>
      <key>evaluated-code</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>comment</key>
        <string>Evaluated code</string>
        <key>begin</key>
        <string>(?&lt;=^|[\w\s'"`])(&gt;)</string>
        <key>end</key>
        <string>(?=|$)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.markdown</string>
          </dict>
        </dict>
        <key>name</key>
        <string>meta.evaluated-code.markdown</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>html-tag</key>
      <dict>
        <key>comment</key>
        <string>&lt;Tags</string>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>(?&lt;=^|[\w\s'"`])(&lt;)\b</string>
        <key>end</key>
        <string>(&lt;?&gt;?=?)|(?=)|$</string>
        <key>name</key>
        <string>meta.tag.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.tag.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Tag name</string>
            <key>match</key>
            <string>(?&lt;=&lt;)\b([\p{Pc}\p{L}]\w*\b(?:(?:[?!:]:|[?!]?\.|[?!-]&gt;)[\p{Pc}\p{L}]\w*)*)\b</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.tag.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)([?!:]:|[?!]?\.|[?!-]&gt;)</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>punctuation.separator.namespace.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                  <dict>
                    <key>match</key>
                    <string>\b([\p{Pc}\p{L}]\w*)\b(?=[:.])</string>
                    <key>name</key>
                    <string>entity.name.tag.namespace.ruko</string>
                  </dict>
                  <dict>
                    <key>match</key>
                    <string>\b((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)\b</string>
                    <key>name</key>
                    <string>support.class.component.ruko</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#clauses</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#declarations</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#keywords</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#html-tag-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-selectors</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[)\s*</string>
            <key>end</key>
            <string>\s*(\])\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#attribute-selectors</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#style-properties</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.parameters.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#tag-attributes</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexps</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
        </array>
      </dict>
      <key>inline-styles</key>
      <dict>
        <key>begin</key>
        <string>(?&lt;=^|[\w\s'"`])(\+&gt;)(.*)\n*</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.style.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>(?&lt;=^|\s)([?:]?=)(?=\s+|$)</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.assignment.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>include</key>
                <string>#comments</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#style-pair</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#style-rules</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.style.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>end</key>
        <string>^(?=\S)|(?!\G)</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>^(\s+)(?!\s)</string>
            <key>end</key>
            <string>^(?!\1|\s*$)</string>
            <key>name</key>
            <string>meta.style.yaml</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#style-properties</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>html-builtins</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>source.css.scss#constant_functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.css.scss#constant_sass_functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.css.scss#constant_important</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.css.scss#constant_default</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.css.scss#constant_optional</string>
          </dict>
        </array>
      </dict>
      <key>property-name</key>
      <dict>
        <key>match</key>
        <string>(\b[\p{Pc}\p{L}]\w*\b(?:(?:(?:[?!:]:|[?!]?\.|[?!-]&gt;)?[\p{Pc}\p{L}]\w*)*)\b)</string>
        <key>name</key>
        <string>meta.property-name.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#css-value-names</string>
              </dict>
              <dict>
                <key>match</key>
                <string>([\p{Pc}\p{L}]\w*)\b(?=[.:])</string>
                <key>name</key>
                <string>constant.other.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>([\p{Pc}\p{L}]\w*)\b</string>
                <key>name</key>
                <string>constant.language.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>[?!:]:|[?!]?\.|[?!-]&gt;</string>
                <key>name</key>
                <string>punctuation.separator.namespace.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>style-list</key>
      <dict>
        <key>begin</key>
        <string>\s*(\[)\s*</string>
        <key>end</key>
        <string>\s*(\])</string>
        <key>name</key>
        <string>meta.brace.square.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.expression.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#punctuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-property-values</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>style-property-values</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#hex-colors</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#css-value-names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>hex-colors</key>
      <dict>
        <key>match</key>
        <string>\s*(#)\b(\h{3,4}|\h{6}|\h{8})\b\s*</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.constant.css</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>constant.other.color.rgb-value.hex.css</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>(\h{2})(\h{2})(\h{2})(\h{2})?</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.red-value.hex.css</string>
                  </dict>
                  <key>2</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.green-value.hex.css</string>
                  </dict>
                  <key>3</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.blue-value.hex.css</string>
                  </dict>
                  <key>4</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.alpha-value.hex.css</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>match</key>
                <string>(\h)(\h)(\h)(\h)?</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.red-value.hex.css</string>
                  </dict>
                  <key>2</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.green-value.hex.css</string>
                  </dict>
                  <key>3</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.blue-value.hex.css</string>
                  </dict>
                  <key>4</key>
                  <dict>
                    <key>name</key>
                    <string>constant.other.color.alpha-value.hex.css</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>tag-names</key>
      <dict>
        <key>match</key>
        <string>\s*\b([\p{Pc}\p{L}]\w*\b(?:(?:[?!:]:|[?!]?\.|[?!-]&gt;)?[\p{Pc}\p{L}]\w*)*)\b\s*</string>
        <key>name</key>
        <string>entity.name.tag.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>entity.name.tag.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>(?x)([?!:]:|[?!]?\.|[?!-]&gt;)</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.separator.namespace.ruko</string>
                  </dict>
                </dict>
              </dict>
              <dict>
                <key>match</key>
                <string>\b([\p{Pc}\p{L}]\w*)\b(?=[:.])</string>
                <key>name</key>
                <string>entity.name.tag.namespace.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\b((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)\b</string>
                <key>name</key>
                <string>support.class.component.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#clauses</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declarations</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#keywords</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#html-tag-names</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>script-blocks</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\b((?i:js))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.js</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:jsx))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.jsx</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:ts))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.ts</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:tsx))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.tsx</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:py))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.python</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:rb))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.ruby</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:php))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.php</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:java))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.java</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:cpp))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.cpp</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:c))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.c</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:cs))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.cs</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:go))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.go</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:rs))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.rust</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:swift))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.swift</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:kt))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.kotlin</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:scala))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.scala</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:hs))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.haskell</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:lua))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.lua</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:dart))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.dart</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:objc))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.objc</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:objcpp))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.objcpp</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:perl))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.perl</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:r))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.r</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:sh))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.shell</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:sql))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.sql</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:html))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.html.basic</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:css))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.css</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:json))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.json</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:xml))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.xml</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:yaml|yml))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.yaml</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:markdown|md))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.html.markdown</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:latex|tex))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.tex.latex</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:was[imt]|wasm|wat))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.wat</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:cljs?))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.clojure</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:makefile|make))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.makefile</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:hs))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.haskell</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:ml))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.ml</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:ocaml))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.ocaml</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\b((?i:fs))\b\s*({)\s*</string>
            <key>end</key>
            <string>\s*(})\s*</string>
            <key>name</key>
            <string>meta.brace.script.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.language.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.script.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#embedded</string>
              </dict>
              <dict>
                <key>include</key>
                <string>source.fsharp</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>operator-declarations</key>
      <dict>
        <key>comment</key>
        <string>Operator declarations.
Format: &lt;prec&gt; &lt;associativity&gt; &lt;fixity&gt; &lt;operator&gt; (-&gt; &lt;return type&gt;)
</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(prec)\b\s*(?:(\d+)|([\p{Pc}\p{L}]\w*))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.modifier.precedence.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>constant.numeric.integer.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>constant.language.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
            <key>name</key>
            <string>variable.parameter.operator.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-signature</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#suffix-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#prefix-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#infix-operators</string>
          </dict>
        </array>
      </dict>
      <key>style-block</key>
      <dict>
        <key>begin</key>
        <string>\s*(\{)\s*</string>
        <key>end</key>
        <string>\s*(\})\s*</string>
        <key>name</key>
        <string>meta.brace.style.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.section.property-list.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#style-properties</string>
          </dict>
        </array>
      </dict>
      <key>style-pair</key>
      <dict>
        <key>begin</key>
        <string>(?&lt;=^|[;,{\[(])\s*\b([\p{Pd}\w]+)\b(:)\s*</string>
        <key>end</key>
        <string>(?=[;,}\])]|$)</string>
        <key>name</key>
        <string>meta.property.css.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>support.type.property-name.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#css-property-names</string>
              </dict>
            </array>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.key-value.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#style-property-values</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s+</string>
            <key>name</key>
            <string>meta.var.expr.ruko</string>
          </dict>
        </array>
      </dict>
      <key>style-properties</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-pair</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#clauses</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#declarations</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-rules</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-block</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>style-rules</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#type-operators</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.parameters.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
                <key>name</key>
                <string>keyword.operator.expression.as.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#clauses</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#constants</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declarations</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#expression-keywords</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#style-pair</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#parameter-variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(\[)\s*</string>
            <key>end</key>
            <string>\s*(\])\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.selector.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#attribute-selectors</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(from|to|except|only|as)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#style-selectors</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#format-syntax</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#tag-names</string>
          </dict>
        </array>
      </dict>
      <key>style-selectors</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*([@#&amp;*|%.:~^?]|::)(?=[\w$'"`])</string>
            <key>name</key>
            <string>punctuation.definition.entity.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\@)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>keyword.control.at-rule.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\#)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.id.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\.)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=::)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.pseudo-component.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\~)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.key.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\&amp;)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.type.anchor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\*)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.type.alias.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\%)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.function.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\|)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.method.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\:)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.procedure.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\^)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.property.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;=\?)[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>entity.other.attribute-name.ruko entity.name.predicate.ruko</string>
          </dict>
        </array>
      </dict>
      <key>comments</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#block-comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#line-comments</string>
          </dict>
        </array>
      </dict>
      <key>block-comments</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(/\*\*)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
            <key>end</key>
            <string>\s*(\*/)</string>
            <key>name</key>
            <string>comment.block.documentation.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.comment.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#jsdoc</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.html.markdown#inline</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#nested-jsdoc-comment</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(/\*)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
            <key>end</key>
            <string>\s*(\*/)</string>
            <key>name</key>
            <string>comment.block.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.comment.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>text.html.markdown#inline</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#nested-block-comment</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>line-comments</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(///)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
            <key>end</key>
            <string>\s*$</string>
            <key>name</key>
            <string>comment.line.documentation.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.comment.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#jsdoc</string>
              </dict>
              <dict>
                <key>include</key>
                <string>text.html.markdown#inline</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(//)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
            <key>end</key>
            <string>\s*$</string>
            <key>name</key>
            <string>comment.line.number-sign.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.comment.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>text.html.markdown#inline</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>nested-jsdoc-comment</key>
      <dict>
        <key>begin</key>
        <string>(/\*\*?)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
        <key>end</key>
        <string>\s*(\*/)</string>
        <key>name</key>
        <string>comment.block.documentation.nested.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.comment.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc</string>
          </dict>
          <dict>
            <key>include</key>
            <string>text.html.markdown#inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#nested-jsdoc-comment</string>
          </dict>
        </array>
      </dict>
      <key>nested-block-comment</key>
      <dict>
        <key>begin</key>
        <string>(/\*)(?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)</string>
        <key>end</key>
        <string>\s*(\*/)</string>
        <key>name</key>
        <string>comment.block.nested.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.comment.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>text.html.markdown#inline</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#nested-block-comment</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-inline-tags</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-access</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-as-name-path</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-simple</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-simple-name-path</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-module</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-type-name</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-type-no-name</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>additional jsdoc V2 keywords</string>
            <key>match</key>
            <string>(?&lt;!\w)@(add|api|body|codeend|codestart|demo|download|group|hide|iframe|image|inherits|option|outline|page|parent|signature|tag)\b</string>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>additional jsdoc keywords</string>
            <key>match</key>
            <string>(?&lt;!\w)@(accessor|alternateClassName|aside|cfg|chainable|docauthor|evented|experimental|ftype|hide|inheritable|localdoc|markdown|mixins|new|override|preventable|ptype|removed|scss mixin|object|template|uses|xtype)\b</string>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-access</key>
      <dict>
        <key>comment</key>
        <string>@tag protected....</string>
        <key>match</key>
        <string>(@(access))\s*(private|protected|public)?(?=\s|$)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>storage.modifier.jsdoc</string>
          </dict>
        </dict>
      </dict>
      <key>jsdoc-module</key>
      <dict>
        <key>comment</key>
        <string>@tag {optional type} module:file</string>
        <key>begin</key>
        <string>(@(exports|module|listens|requires)\b)\s*(?=({(?:(?&gt;(?:[^\\{}]|\\.)+)|\g&lt;-1&gt;)*\})?\s*(\S*)([\S\s]*))</string>
        <key>end</key>
        <string>^|(?=\*/)|(?=\5$)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-scopes</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?:(module)(:))?(((?!\*/)\S)+)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.module.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.jsdoc</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>string.modulename.jsdoc</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>jsdoc-as-name-path</key>
      <dict>
        <key>comment</key>
        <string>to terminate the block</string>
        <key>begin</key>
        <string>(@(borrows|lends)\b)\s*(?=(?!\*/)\S+(?:(?:\s*\bas\b\s*(?!\*/)\S+)?)?([\S\s]*))</string>
        <key>end</key>
        <string>^|(?=\*/)|(?=\3$)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-name-path-scopes</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-simple</key>
      <dict>
        <key>comment</key>
        <string>@tag</string>
        <key>match</key>
        <string>(@(abs|author|classdesc|copyright|default|defaultvalue|deprecated|description|desc|example|external|fileoverview|file|global|host|ignore|inheritdoc|inner|instance|license|override|overview|readonly|see|since|stat|summary|todo|tutorial|virtual|variation|version)\b)(?=$|\s)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
      </dict>
      <key>jsdoc-simple-name-path</key>
      <dict>
        <key>comment</key>
        <string>@tag {opt type} Class#xxx or Class#Event:aaaa etc</string>
        <key>begin</key>
        <string>(@(alias|augments|callback|extends|emits|event|fires|impl|memberof|mixes|name|property|property|this|typedef)\b)\s*(?=({(?:(?&gt;(?:[^\\{}]|\\.)+)|\g&lt;-1&gt;)*\})?\s*\S*([\S*\s]*))</string>
        <key>end</key>
        <string>^|(?=\*/)|(?=\4$)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-scopes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-name-path-scopes</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-type-name</key>
      <dict>
        <key>comment</key>
        <string>@tag {optional type} name</string>
        <key>begin</key>
        <string>(@(arg|argument|class|constant|constructor|constructs|const|function|fn|kind|member|method|mixin|actor|param|var)\b)\s*(?=({(?:(?&gt;(?:[^\\{}]|\\.)+)|\g&lt;-1&gt;)*\})?\s*(((\[(?:(?&gt;[^\[\]]+)|\g&lt;-1&gt;)*\])|\S)+)?([\S\s]*))</string>
        <key>end</key>
        <string>^|(?=\*/)|(?=\7$)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-scopes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-name-scopes</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-type-no-name</key>
      <dict>
        <key>comment</key>
        <string>@tag {types}</string>
        <key>begin</key>
        <string>(@(enum|exception|implements|private|protected|public|returns|return|throws|type)\b)\s*(?=({(?:(?&gt;(?:[^\\{}]|\\.)+)|\g&lt;-1&gt;)*\})?\s*([\S\s]*))</string>
        <key>end</key>
        <string>^|(?=\*/)|(?=\4$)</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>storage.type.class.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-scopes</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-inline-tags</key>
      <dict>
        <key>name</key>
        <string>meta.tag.inline.jsdoc</string>
        <key>begin</key>
        <string>(\[(?:(?&gt;[^\[\]]+)|\g&lt;-1&gt;)*\])?({)(?=@)</string>
        <key>end</key>
        <string>\s*(})</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>string.linktext.jsdoc</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>meta.brace.curly.jsdoc</string>
          </dict>
        </dict>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>meta.brace.curly.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(@(link|tutorial))\b([^}]*)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.class.jsdoc</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>string.jsdoc</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>jsdoc-typedef-scopes</key>
      <dict>
        <key>name</key>
        <string>entity.name.type.instance.jsdoc</string>
        <key>begin</key>
        <string>{</string>
        <key>end</key>
        <string>}|^</string>
        <key>captures</key>
        <dict>
          <key>0</key>
          <dict>
            <key>name</key>
            <string>meta.brace.curly.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-primitives</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-name-path-scopes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-obj</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-typedef-primitives</key>
      <dict>
        <key>match</key>
        <string>\b(null|undefined|boolean|string|number)\b</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>support.type.builtin.primitive.jsdoc</string>
          </dict>
        </dict>
      </dict>
      <key>jsdoc-typedef-obj</key>
      <dict>
        <key>comment</key>
        <string>typedef object</string>
        <key>begin</key>
        <string>{</string>
        <key>end</key>
        <string>}|^</string>
        <key>captures</key>
        <dict>
          <key>0</key>
          <dict>
            <key>name</key>
            <string>meta.brace.curly.jsdoc</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-primitives</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b([\p{Pc}\p{L}]\w*)\b\s*(:)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>variable.other.readwrite.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-name-path-scopes</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#jsdoc-typedef-obj</string>
          </dict>
        </array>
      </dict>
      <key>jsdoc-name-scopes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>((?!\*/)[\S&amp;&amp;[^\[\]"']])+</string>
            <key>captures</key>
            <dict>
              <key>0</key>
              <dict>
                <key>name</key>
                <string>variable.other.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>name</key>
            <string>variable.other.jsdoc</string>
            <key>begin</key>
            <string>\[</string>
            <key>end</key>
            <string>\]|^</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#jsdoc-string</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#jsdoc-name-scopes</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>jsdoc-name-path-scopes</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*(?=[\p{Pc}\p{L}])</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.as.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?:([\p{Pc}\p{L}&amp;&amp;\P{Ll}]+\w*)|([\p{Pc}\p{L}]\w*))(?=[\s\-~.#]|$)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.class.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(\.)([\p{Pc}\p{L}]\w*)\b(?=\s|$|\")</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.accessor.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.method.stat.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(\#)([\p{Pc}\p{L}]\w*)\b(?=\s|$|\")</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.accessor.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.method.instance.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(~|-)([\p{Pc}\p{L}]\w*)\b(?=\s|$|\")</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.accessor.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.method.inner.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(\#)(event)(:)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.accessor.jsdoc</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.event.jsdoc</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.jsdoc</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>name</key>
            <string>string.method.jsdoc</string>
            <key>begin</key>
            <string>\.(?="|')</string>
            <key>end</key>
            <string>(?=.)</string>
            <key>applyEndPatternLast</key>
            <true/>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#jsdoc-string</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>jsdoc-string</key>
      <dict>
        <key>name</key>
        <string>string.jsdoc</string>
        <key>match</key>
        <string>\"(\\"|[^"])*"|'(\\'|[^'])*'</string>
      </dict>
      <key>sigil-function-calls</key>
      <dict>
        <key>name</key>
        <string>meta.function.arguments.ruko</string>
        <key>match</key>
        <string>(?x)
\b
(
  (?:
    \b
    [\p{Pc}\p{L}]\w* # identifier
    \b
    (?:(?:[?!]?\.|[?!:]:|[?!-]&gt;)=?) # qualified name separator
  )*
  [\p{Pc}\p{L}]\w* # last part of identifier
)
\b
(?=
  \s*
  (?: # function application, composition and piping
      (?: [$@] | &lt;\|+ | &lt;!+ | &lt;[-+]) (?:['"`\w\s]|\#?[(\[{])
    | # C-style function call
      (?:(?:[?!]?\.|[?!:]:|[?!-]&gt;)=?)? \#? [({]
    | # generics
      (?:(?:[?!]?\.|[?!:]:|[?!-]&gt;)=?)? &lt; [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* (?:['"`\w]|\#?[(\[{])
    | # macro and destructor calls
      [!~] \#? [({]
    | # strings and symbols
      (?:\w*|[\\$#%]*)['"] | `\s*(?=\N) | :[\p{Pc}\p{L}]\w*
  )
)
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#function-names</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>function-calls</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Normal (bracketed or bracketless) function calls</string>
            <key>name</key>
            <string>meta.function.arguments.ruko</string>
            <key>match</key>
            <string>(?x)
(?&lt;=
  (?:
    ^
    | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ # operator
    | [,;] # delimiter
    | (?: ['"`)}\]\w\s] | \\.): # postfix colon
    | #? [({\[] # opening bracket
    | ^ # beginning of line
  ) \s*
  | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ # operator
  | (?:
    (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
    \b
      (?: # keywords
        [io]n|of|[ai]s|by|has|old|new|del
        |unset|ref|deref|and|x?or|not
        |const|let|mut|dyn|va[rl]|use
        |given|expr|eval|init|comp
        |func|pro[pc]|type|class|actor|trait
        |impl|enum|module|model|struct|record
        |union|iter|macro|query|elem|temp|oper
        |object|realm|style|script|quote
        |go|defer|do|with|from|where
        |if|else|then|guard|when
        |for|loop|while|goto|move
        |try|throw|catch|switch
        |match|case|pass|def|defer
        |break|skip|redo|retry
        |return|yield|await|scope
        |import|export|intern|extern
        |debug|assert|check|decl
      )
    \b
  ) \s*
) \s*
\b
(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  (?:
    \b
    [\p{Pc}\p{L}]\w* # identifier
    \b
    (?:(?:[?!]?\.|[?!:]:|[?!-]&gt;)=?) # qualified name separator
  )*
  [\p{Pc}\p{L}]\w* # last part of identifier
)
\b
(?! # infix operator
  \s+ 
    (?:[\p{P}\p{S}&amp;&amp;[^,;'"`/({\[)}\]\p{Pc}]]+
    (?:
      [\p{P}\p{S}]*
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
    )?
    (?=\s|$)
  )
)
(?=
  (?:
    \s* (?: # function name
      \b
      # ignore all keywords
      (?!
        (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
        (?: # keywords
          [io]n|of|[ai]s|by|has|old|new|del
          |unset|ref|deref|and|x?or|not
          |const|let|mut|dyn|va[rl]|use
          |given|expr|eval|init|comp
          |func|pro[pc]|type|class|actor|trait
          |impl|enum|module|model|struct|record
          |union|iter|macro|query|elem|temp|oper
          |object|realm|style|script|quote
          |go|defer|do|with|from|where
          |if|else|then|guard|when
          |for|loop|while|goto|move
          |try|throw|catch|switch
          |match|case|pass|def|defer
          |break|skip|redo|retry
          |return|yield|await|scope
          |import|export|intern|extern
          |debug|assert|check|decl
        )
        \b
      )
      \b
      [\p{Pc}\p{L}]\w* # identifier
      \b
    ) (?! : # avoid matching labels/message passing here
      (?:
          (?:\w*|[\\$#%]*)['"] # quoted string literals
        | `\s*(?=\N) # unquoted string literals 
        | :[\p{Pc}\p{L}]\w* # symbols
        | \d # numbers
        | \s \#? [(\[] # opening brackets
        | \s [\p{P}\p{S}&amp;&amp;[^.,;'"`/\\({\[)}\]\p{Pc}]] # prefix operators except / and \
            [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* # followed by other operators
          (?: ['"`\w] | \#?[(\[{]) # literal or opening bracket
        | \s # XML tag component name
          &lt;[\p{Pc}\p{L}(]
        | \s # regexp literal
          /[^/*\s]
        | \s \|(?: \#?[(\[{] )? # opening bracket
          (?: [;,] \s* )* # optional separators
          (?:
            ((?:[*&amp;%@^!~?\\\-+]|\.{3})*) # any sigils
            (\b[\p{Pc}\p{L}]\w*\b) # identifier
            ([!?]*) # optional sigils
            \s*
          )+ (?: \#? [)\]}] )? # closing bracket
      )
    )
    | \s* (?: # function name
      \b
      # ignore all keywords
      (?!
        (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
        (?: # keywords
          [io]n|of|[ai]s|by|has|old|new|del
          |unset|ref|deref|and|x?or|not
          |const|let|mut|dyn|va[rl]|use
          |given|expr|eval|init|comp
          |func|pro[pc]|type|class|actor|trait
          |impl|enum|module|model|struct|record
          |union|iter|macro|query|elem|temp|oper
          |object|realm|style|script|quote
          |go|defer|do|with|from|where
          |if|else|then|guard|when
          |for|loop|while|goto|move
          |try|throw|catch|switch
          |match|case|pass|def|defer
          |break|skip|redo|retry
          |return|yield|await|scope
          |import|export|intern|extern
          |debug|assert|check|decl
        )
        \b
      )
      \b
      [\p{Pc}\p{L}]\w* # identifier
      \b
    )(?= :(?:\s+|$) ) # beginning of block
    | \s (?:&lt;[-=]?\||&lt;\+) (?:['"`\w\s]|\#?[(\[{]) 
    | (?:(?:[?!]|[?!:]:|[?!-]&gt;)=?)? \#? [({] # C-style function call
    | (?:(?:[?!]|[?!:]:|[?!-]&gt;)=?)? &lt; [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* (?:['"`\w]|\#?[(\[{]) # generics
    | [!~] \#? [({] # macro and destructor calls
    | \s* (?:
        (?:\w*|[\\$#%]*)['"] # quoted string literals
      | `\s*(?=\N) # unquoted string literals 
      | :[\p{Pc}\p{L}]\w* # symbols
      | \d # numbers
      | \s \#? [(\[] # opening brackets
      | \s [\p{P}\p{S}&amp;&amp;[^.,;'"`/\\({\[)}\]\p{Pc}]] # prefix operators except / and \
          [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* # followed by other operators
        (?: ['"`\w] | \#?[(\[{]) # literal or opening bracket
      | \s # XML tag component name
        &lt;[\p{Pc}\p{L}(]
      | \s # regexp literal
        /[^/*\s]
      | \s \|(?: \#?[(\[{] )? # opening bracket
        (?: [;,] \s* )* # optional separators
        (?:
          ((?:[*&amp;%@^!~?\\\-+]|\.{3})*) # any sigils
          (\b[\p{Pc}\p{L}]\w*\b) # identifier
          ([!?]*) # optional sigils
          \s*
        )+ (?: \#? [)\]}] )? # closing bracket
    )
  )
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>meta.function.name.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>Piped function calls</string>
            <key>name</key>
            <string>meta.function.arguments.ruko</string>
            <key>match</key>
            <string>(?x)
(?&lt;=
  \s* # opening
  (?:\|[-=]?&gt;|\+&gt;) # operator
  \s*
)
\b
(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  (?:
    \b
    [\p{Pc}\p{L}]\w* # identifier
    \b
    (?:(?:[?!]?\.|[?!:]:|[?!-]&gt;)=?) # qualified name separator
  )*
  [\p{Pc}\p{L}]\w* # last part of identifier
)
\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>meta.function.name.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>embedded-function-calls</key>
      <dict>
        <key>name</key>
        <string>meta.function.name.ruko</string>
        <key>match</key>
        <string>(?x)
(?:
  (?&lt;=
    (?:^ | [,;'"`)\]}\w\s] | \#?[(\[{] | \\.) # literal, bracket or space
    (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
  )
  \b # methods
    (?:
      # Leading underscore
      (\p{Pc}+\w*(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
    )
  \b
  (?= # opening macro, destructor, or function call
      [!~]? \#? [({]
    | generics
      (?: [?!]?\. | [?!:]: | [?!-]&gt; ) &lt;
  )
  |
  (?&lt;= ^ # beginning of line
    | (?: [,;'"`)}\]\w\s] | \#?[(\[{] | \\.) # literal
    (?: # operators
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
    )?
  ) \b
    (?: # Regular variables
      # Leading underscore
      (\p{Pc}+\w*(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
    )
  \b
    (?= # opening macro, destructor, or function call
        [!~]? \#? [({]
      | generics
        (?: [?!]?\. | [?!:]: | [?!-]&gt; ) &lt;
    )
)
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.tag.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.tag.ruko support.class.component.ruko</string>
          </dict>
          <key>3</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.class.builtin.ruko</string>
          </dict>
          <key>4</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.function.member.ruko</string>
          </dict>
          <key>5</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.function.tagged-template.ruko</string>
          </dict>
          <key>6</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.type.ruko</string>
          </dict>
          <key>7</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.class.ruko</string>
          </dict>
          <key>8</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#type-names</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#support-functions</string>
              </dict>
            </array>
            <key>name</key>
            <string>entity.name.function.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>function-names</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>name</key>
            <string>meta.function.name.ruko</string>
            <key>match</key>
            <string>(?x)
(?:
  (?&lt;=
    (?: [,;'"`)\]}\w] | \#?[(\[{] | \\.?) # literal, bracket or space
    (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
  )
  \b # methods
    (?:
      # Leading underscore
      (\p{Pc}+\w*(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
    )
  \b
  (?=
      $ # end of line
    | (?: # operators
        &lt;\|{1,3} | &lt;[-+] | \|{1,3}&gt; | \+&gt; | [$@]
      )?
      (?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.)
  )
  |
  (?&lt;=
     ^ # beginning of line
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* # operators
    | (?: [,;'"`)}\]\w\s] | \#?[(\[{] | \\.) # literal, bracket or space
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]* # operators
  ) \b
    (?: # Regular variables
      # Leading underscore
      (\p{Pc}+\w*(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
    )
  \b
    (?=
        $ # end of line
      | (?: # operators
          &lt;\|{1,3} | &lt;[-+] | \|{1,3}&gt; | \+&gt; | [$@]
        )?
        (?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.)
    )
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.tag.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.tag.ruko support.class.component.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.class.builtin.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.function.member.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.function.tagged-template.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.type.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.class.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#type-names</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#support-functions</string>
                  </dict>
                </array>
                <key>name</key>
                <string>entity.name.function.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#variables</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#primary-operators</string>
          </dict>
        </array>
      </dict>
      <key>parameter-variables</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>name</key>
            <string>meta.type.ruko</string>
            <key>begin</key>
            <string>(?&lt;=(?:[)}\]\w'"`]|\\.)&gt;*)(:)(?=$|&lt;*(?:['"`\w\s]|#?[(\[{]))</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.annotation.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=
  (?:
    ^ # SOL
    | (?:^ | [^|]) \| # open pipe
    | \#?[({\[] # open bracket
    | [;,] # separator
    | [(|]\. \s # uncurried function
    | (?:^ | [,;'"`)}\]\s] | \#?[(\[{] | \\.) # literal, bracket or space
      \b (?: # declaration keywords
        const|let|mut|dyn|va[rl]|use
        |given|expr|eval|init|comp
        |func|pro[pc]|type|class|actor|trait
        |impl|enum|module|model|struct|record
        |union|iter|macro|query|elem|temp|oper
        |object|realm|style|script|quote
        |given|use|as
      ) \b
      (?:$|[,;'"`)}\]\s] | \#?[(\[{] | \\.) 
  ) \s*
)

(?:
  \s*
  ([*&amp;%@^!~?\\\-+]*) # any sigils
  (\b[\p{Pc}\p{L}]\w*\b) # identifier
  ([!?]*) # optional sigils
  \s*
)*

(?:
  \s*
  ((?:[*&amp;%@^!~?\\\-+]|\.{3})*) # any sigils
  (\b[\p{Pc}\p{L}]\w*\b) # identifier
  ([!?]*) # optional sigils
  \s*
)

(?=
  $ # EOL
  | # close bracket or pipe
    \s* [)}\]]
  | # pipe
    \s* \|:? (?:$|['"`&lt;\w\s)\]}]|\#?[(\[{]|\\.)
  | # separator
    \s* [;,]
  | # as keyword (aliasing)
    \s*
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b
    \s*
  | # type specifier and assignment
    (?::|[?:]?=) \s* (?:[*&amp;%@^!~?\\\-+]*) (?:['"`\w]|\#?[(\[{])
  | \s+ (?::|[?:]?=) \s+ (?:[*&amp;%@^!~?\\\-+]*) (?:['"`\w]|\#?[(\[{])
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.prefix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>storage.type.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#declaration-keywords</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.suffix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.prefix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>variable.parameter.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#constants</string>
                  </dict>
                </array>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.suffix.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#parameter-type-operators</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>placeholder-variables</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?i)\s*[?!][\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.optional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\s*\*\*?[?!]?[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.spread.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\s*~~?[?!]?[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.reference.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\s*&amp;[?!]?[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.reference.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\s*%[?!]?[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.other.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?i)\s*\b[\p{Pc}\p{L}]\w*\b\s*</string>
            <key>name</key>
            <string>variable.parameter.ruko</string>
          </dict>
        </array>
      </dict>
      <key>variables</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=
  \b # qualified name
    [\p{Pc}\p{L}]\w* # identifier
    (?:(?:[?!]?\.|[?!:]:)=?)
  \b
)
(?:\d\w*)
</string>
            <key>name</key>
            <string>variable.other.index.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>4 types of variables - _lead_underscore, UPPERCASE, PascalCase, camelCase</string>
            <key>match</key>
            <string>(?x) \b

(?:
  (?&lt;=
    (?: ['"`)\]}\w] | \\.) \s* # literal, bracket or space
    (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
  )
  \b # methods
  (?: # Properties
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
  |
  (?&lt;!
    (?: [,;'"`)}\]\w] | \\.) # literal, bracket or space
    (?: [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ ) # operators
  )
  \b
  (?: # Objects
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
  (?! [?!]?\.\.+ ) # not a range operator
  (?= 
      (?: [?!]?\. | [?!:]: | [?!-]&gt; ) =? # accessor or qualified name separator
    | \#?\[ # or array access
  )
  |
  (?: # Regular variables
      # Leading underscore
      (\p{Pc}+\w*\b(?!\p{Pc}+))
    | # Train case
      ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
    | # Pascal case
      ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
    | # Camel or kebab case
      ([\p{Pc}\p{L}]\w*)
  )
)\b
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>variable.other.property.dynamic.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>variable.other.constant.property.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>variable.other.property.stat.ruko</string>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>variable.other.property.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>variable.other.global.ruko</string>
              </dict>
              <key>6</key>
              <dict>
                <key>name</key>
                <string>variable.other.constant.object.ruko</string>
              </dict>
              <key>7</key>
              <dict>
                <key>name</key>
                <string>variable.other.class.stat.ruko</string>
              </dict>
              <key>8</key>
              <dict>
                <key>name</key>
                <string>variable.other.object.ruko</string>
              </dict>
              <key>9</key>
              <dict>
                <key>name</key>
                <string>variable.other.dollar.ruko</string>
              </dict>
              <key>10</key>
              <dict>
                <key>name</key>
                <string>variable.other.constant.ruko</string>
              </dict>
              <key>11</key>
              <dict>
                <key>name</key>
                <string>variable.other.class.ruko</string>
              </dict>
              <key>12</key>
              <dict>
                <key>name</key>
                <string>variable.other.readwrite.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>operators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#named-infix-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#special-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#infix-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#primary-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#suffix-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#prefix-operators</string>
          </dict>
        </array>
      </dict>
      <key>special-operators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[,;]|\#?[(\[{])\s*(\.\.\.?)(?=[\p{P}\p{S}&amp;&amp;[^,;'"`\\({\[)}\]\p{Pc}]]*(?:['"`\w]|\#?[(\[{]))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.spread.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=&gt;|\w)(!)(?=#?[({])</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.macro.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=&gt;|\w)(~)(?=#?[({])</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>named-infix-operators</key>
      <dict>
        <key>comment</key>
        <string>Named infix operators: x \fn\ y</string>
        <key>contentName</key>
        <string>keyword.operator.infix.named.ruko</string>
        <key>begin</key>
        <string>(?&lt;=['"`)}\]\w\s]|\\.)(\\)\s*</string>
        <key>end</key>
        <string>\s*(\\)(?=$|['"`\w\s]|\#?[(\[{])</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.operator.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=\\?)([?!:]:|[?!]?\.|[?!-]&gt;)([\p{Pc}\p{L}]\w*)(?!(?:[?!:]:|[?!]?\.|[?!-]&gt;))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.accessor.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#accessor-operators</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.member.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=\\?)
( # function name
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
(?=\\)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.function.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#function-names</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>infix-operators</key>
      <dict>
        <key>comment</key>
        <string>Infix operators - e.g., x + y</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\?[.:&gt;]=?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.optional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:![.:&gt;]=?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.assert.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:(::|\.|-&gt;)=?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.accessor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[\p{P}\p{S}&amp;&amp;[^~&lt;=&gt;.,:;!''"`({\[)}\]\p{Pc}]][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]*=)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.assignment.augmented.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&amp;&amp;|\|\||\^\^|)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.logical.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&amp;|\||\^|)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.bitwise.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&lt;&lt;[&lt;&gt;]?|[&lt;&gt;]?&gt;&gt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.bitwise.shift.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\+\+|--)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.successor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[+-][%|]?|\*\*?[%|]?|~?/|%%?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\+\+|\-\-|\+|\-|||\||||||||||||||||||||||||||||||||||||||||||||||||||||||\*|//?|||%||||||\\||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&lt;--&gt;|-&gt;|--&gt;|&lt;--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||=&gt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arrow.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&lt;[-=]?\||\|[-=]?&gt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.pipeline.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&lt;\+|\+&gt;|)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.compose.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[&lt;&gt;][:!]|[:!][&lt;&gt;])(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[&gt;.]\.[.&lt;]|[=.]\.[.=]|\.\.)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.range.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[&lt;&gt;]=?|&lt;=?&gt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.relational.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:(?&lt;!&lt;)&lt;=|(?&lt;!&gt;)&gt;=|&gt;|&lt;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.relational.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\.|\.\.+||||||)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.dots.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[!=]==?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.comparison.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:~[=!]|[=!]~|[=&gt;]&lt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.similarity.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:&lt;[/*|+$:]&gt;?|[/*|+$:]&gt;)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.function.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\?\?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.null-coalescing.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:!!)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.coalescing.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\?:?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.conditional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:!:?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.ternary.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[.:$]|:::?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.macro.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?::?=)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.assignment.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:=+&gt;|&lt;=+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arrow.fat.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:-+&gt;|&lt;-+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arrow.skinny.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:~+&gt;|&lt;~+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arrow.wavy.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[&amp;|^~][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.logical.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[-+*/%][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[@:][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.prototype.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[.][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.accessor.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[=!][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.comparison.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[&lt;&gt;][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.relational.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[?#][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.private.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\p{Sm}+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.math.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:\p{Sc}+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.currency.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])(?:[!#-&amp;*+\-./:-@\\^|~--]+)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.ascii.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[\s({\[])([\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+([\p{P}\p{S}]*[\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)?)(?=$|[)}\]\s])</string>
            <key>name</key>
            <string>keyword.operator.infix.ruko</string>
          </dict>
        </array>
      </dict>
      <key>primary-operators</key>
      <dict>
        <key>comment</key>
        <string>Primary operators - x+y (without spaces)</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\?[.:&gt;]=?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.optional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:![.:&gt;]=?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.assert.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:(::|\.|-&gt;)=?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.accessor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[\p{P}\p{S}&amp;&amp;[^~&lt;=&gt;.,:;!''"`({\[)}\]\p{Pc}]][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]*=)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.assignment.augmented.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&amp;&amp;|\|\||\^\^|)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.logical.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&amp;|\||\^|)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.bitwise.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&lt;&lt;[&lt;&gt;]?|[&lt;&gt;]?&gt;&gt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.bitwise.shift.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\+\+|--)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.successor.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[+-][%|]?|\*\*?[%|]?|~?/|%%?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\+\+|\-\-|\+|\-|||\||||||||||||||||||||||||||||||||||||||||||||||||||||||\*|//?|||%||||||\\||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&lt;--&gt;|-&gt;|--&gt;|&lt;--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||=&gt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arrow.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&lt;[-=]?\||\|[-=]?&gt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.pipeline.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&lt;\+|\+&gt;|)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.compose.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[&lt;&gt;][:!]|[:!][&lt;&gt;])(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.class.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[&gt;.]\.[.&lt;]|[=.]\.[.=]|\.\.)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.range.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[&lt;&gt;]=?|&lt;=?&gt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.relational.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:(?&lt;!&lt;)&lt;=|(?&lt;!&gt;)&gt;=|&gt;|&lt;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.relational.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\.|\.\.+||||||)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.dots.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[!=]==?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.comparison.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:~[=!]|[=!]~|[=&gt;]&lt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.similarity.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:&lt;[/*|+$:]&gt;?|[/*|+$:]&gt;)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.function.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\?\?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.null-coalescing.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:!!)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.coalescing.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\?:?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.conditional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:!:?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.ternary.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[.:$]|:::?)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.macro.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?::?=)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.assignment.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:=+&gt;|&lt;=+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arrow.fat.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:-+&gt;|&lt;-+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arrow.skinny.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:~+&gt;|&lt;~+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arrow.wavy.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[&amp;|^~][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.logical.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[-+*/%][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.arithmetic.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[@:][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.prototype.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[.][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.accessor.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[=!][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.comparison.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[&lt;&gt;][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.relational.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[?#][\p{P}\p{S}&amp;&amp;[^,;''"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.private.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\p{Sm}+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.math.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:\p{Sc}+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.currency.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)(?:[!#-&amp;*+\-./:-@\\^|~--]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.ascii.custom.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)([\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.primary.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=['"`)}\]\w]|\\.)([\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)(?=(?:['"`\w]|\#?[(\[{]))</string>
            <key>name</key>
            <string>keyword.operator.primary.ruko</string>
          </dict>
        </array>
      </dict>
      <key>prefix-operators</key>
      <dict>
        <key>comment</key>
        <string>Prefix operators</string>
        <key>match</key>
        <string>([\p{P}\p{S}&amp;&amp;[^,;'"`\\({\[)}\]\p{Pc}]])(?=[\p{P}\p{S}&amp;&amp;[^,;'"`\\({\[)}\]\p{Pc}]]*(?:['"`\w]|\#?[(\[{]))</string>
        <key>name</key>
        <string>keyword.operator.prefix.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\*</string>
                <key>name</key>
                <string>keyword.operator.pointer.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>/</string>
                <key>name</key>
                <string>keyword.operator.spread.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\+</string>
                <key>name</key>
                <string>keyword.operator.increment.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>-</string>
                <key>name</key>
                <string>keyword.operator.decrement.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>&amp;</string>
                <key>name</key>
                <string>keyword.operator.reference.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\|</string>
                <key>name</key>
                <string>keyword.operator.union.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\^</string>
                <key>name</key>
                <string>keyword.operator.borrow.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>!</string>
                <key>name</key>
                <string>keyword.operator.logical.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\$</string>
                <key>name</key>
                <string>punctuation.definition.variable.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>@</string>
                <key>name</key>
                <string>punctuation.definition.decorator.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>~</string>
                <key>name</key>
                <string>keyword.operator.bitwise.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\?</string>
                <key>name</key>
                <string>keyword.operator.existential.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>=</string>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>#</string>
                <key>name</key>
                <string>punctuation.definition.anchor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>%</string>
                <key>name</key>
                <string>keyword.operator.format.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\.</string>
                <key>name</key>
                <string>keyword.operator.accessor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string></string>
                <key>name</key>
                <string>keyword.operator.lifetime.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>suffix-operators</key>
      <dict>
        <key>comment</key>
        <string>Suffix operators</string>
        <key>match</key>
        <string>(?&lt;=(?:['"`)}\]\w]|\\.)[\p{P}\p{S}&amp;&amp;[^,;'"`\\({\[)}\]\p{Pc}]]*)([\p{P}\p{S}&amp;&amp;[^,;'"`\\({\[)}\]\p{Pc}]])</string>
        <key>name</key>
        <string>keyword.operator.suffix.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>\*</string>
                <key>name</key>
                <string>keyword.operator.pointer.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>/</string>
                <key>name</key>
                <string>keyword.operator.quotient.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\+</string>
                <key>name</key>
                <string>keyword.operator.increment.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>-</string>
                <key>name</key>
                <string>keyword.operator.decrement.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>&amp;</string>
                <key>name</key>
                <string>keyword.operator.reference.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\|</string>
                <key>name</key>
                <string>keyword.operator.union.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\^</string>
                <key>name</key>
                <string>keyword.operator.borrow.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>!</string>
                <key>name</key>
                <string>keyword.operator.logical.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\$</string>
                <key>name</key>
                <string>punctuation.definition.variable.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>@</string>
                <key>name</key>
                <string>punctuation.definition.decorator.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>~</string>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\?</string>
                <key>name</key>
                <string>keyword.operator.existential.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>=</string>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\$</string>
                <key>name</key>
                <string>keyword.operator.pipeline.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>#</string>
                <key>name</key>
                <string>punctuation.definition.anchor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>%</string>
                <key>name</key>
                <string>keyword.operator.format.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\.</string>
                <key>name</key>
                <string>keyword.operator.accessor.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string></string>
                <key>name</key>
                <string>keyword.operator.lifetime.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>parameter-brackets</key>
      <dict>
        <key>begin</key>
        <string>(\()\s*</string>
        <key>end</key>
        <string>\s*(\))</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.parameters.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#binding-pattern</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>modifier-keywords</key>
      <dict>
        <key>name</key>
        <string>storage.modifier.ruko</string>
        <key>match</key>
        <string>(?x)
(
  (?:
    (?:
      \s*
      (?&lt;!(?:(?&lt;!\.)\.|[?!:]:)=?)
      \b
        [\p{Pc}\p{L}]\w*
      )
      \b
    \s*
  )*
)
(?=
  \s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?:
    const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |import|export|intern|extern
    |do|scope
  )
  \b\s*
)
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#modifiers</string>
              </dict>
            </array>
          </dict>
        </dict>
      </dict>
      <key>type-modifiers</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>name</key>
            <string>storage.modifier.ruko</string>
            <key>match</key>
            <string>(?x)
\s*\b
(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
)
\b\s*
(?=
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w*
)
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>modifiers</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Visibility modifiers</string>
            <key>match</key>
            <string>(?x)\s*\b
(?:
  pub|priv|prot|final|read|write|over
  |global|local|intern|extern|mut|immut
  |post|[gs]et|put|del|req|opt|shared|stable
  |(?:un)?safe|virt|seal|abst|friend|enemy
) \b\s*
</string>
            <key>name</key>
            <string>storage.modifier.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Visibility modifiers</string>
            <key>match</key>
            <string>(?x)\s*\b
(?:
  in|out|inout|inplace|ref|defer|a?sync
  |stat|dyn|lazy|eager|bound|free|unique
  |union|open|closed?
) \b\s*
</string>
            <key>name</key>
            <string>storage.modifier.declaration.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Functional modifiers</string>
            <key>match</key>
            <string>(?x)\s*\b
(?:
  rec|oper|curry|opaque|inline|tail|macro
  |partial|variadic|generic|template|lambda
  |coroutine|continuation|hook|event
)\b\s*
</string>
            <key>name</key>
            <string>storage.modifier.function.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#expression-keywords</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Custom modifiers</string>
            <key>match</key>
            <string>\s*\b([\p{Pc}\p{L}]\w*)\b\s*</string>
            <key>name</key>
            <string>storage.modifier.specifier.ruko</string>
          </dict>
        </array>
      </dict>
      <key>declaration-keywords</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(decl)\b\s*</string>
            <key>name</key>
            <string>keyword.other.declare.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(
  const|let|mut|dyn|va[rl]|use
  |given|expr|eval|init|comp
)\b\s*
</string>
            <key>name</key>
            <string>storage.type.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
\s*
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
  )
  \b
\s*
</string>
            <key>name</key>
            <string>storage.type.$1.ruko</string>
          </dict>
        </array>
      </dict>
      <key>general-keywords</key>
      <dict>
        <key>comment</key>
        <string>general keywords</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(if|else|guard|when)\b\s*</string>
            <key>name</key>
            <string>keyword.control.conditional.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(for|loop|while)\b\s*</string>
            <key>name</key>
            <string>keyword.control.loop.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(try|throw|catch|then)\b\s*</string>
            <key>name</key>
            <string>keyword.control.trycatch.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(switch|case|def)\b\s*</string>
            <key>name</key>
            <string>keyword.control.switch.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(match)\b\s*</string>
            <key>name</key>
            <string>keyword.control.match.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(break|skip|redo|retry|return|await|scope|yield|goto|move|pass)\b\s*</string>
            <key>name</key>
            <string>keyword.control.flow.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(import|export|intern|extern)\b\s*</string>
            <key>name</key>
            <string>keyword.control.module.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(with|do|from|(?:de)?ref|go|defer)\b\s*</string>
            <key>name</key>
            <string>keyword.control.$1.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(debug|assert|check|decl|where)\b\s*</string>
            <key>name</key>
            <string>keyword.other.$1.ruko</string>
          </dict>
        </array>
      </dict>
      <key>expression-keywords</key>
      <dict>
        <key>comment</key>
        <string>expression keywords</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as|old|new|by)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.$1.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(not\s+)?([io]n|of)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.$2.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.is.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(del)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.delete.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(unset)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.void.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(and|x?or|not)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.logical.ruko</string>
          </dict>
        </array>
      </dict>
      <key>keywords</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#module-expression</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#control-expression</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-expression</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#constraint-expression</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#intern-extern-expression</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#modifier-keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#declaration-keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#expression-keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#general-keywords</string>
          </dict>
        </array>
      </dict>
      <key>control-expression</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(break|skip|redo|retry|scope|goto|move|pass)\b\s*</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.flow.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
            <key>name</key>
            <string>constant.other.label.ruko</string>
          </dict>
        </array>
      </dict>
      <key>intern-extern-expression</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(intern|extern)\b\s*</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.module.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
            <key>name</key>
            <string>constant.other.label.ruko</string>
          </dict>
        </array>
      </dict>
      <key>module-expression</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(import|export)\b\s*</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.module.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#module-content</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#intern-extern-expression</string>
          </dict>
        </array>
      </dict>
      <key>module-content</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>({)\s*</string>
            <key>end</key>
            <string>\s*(})</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#module-content</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#intern-extern-expression</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#strings</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexps</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#symbols</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
            <key>name</key>
            <string>keyword.control.module.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#accessor-operators</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!:):(?!:)\s*</string>
            <key>name</key>
            <string>keyword.operator.alias.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#regexp-patterns</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-keywords</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!\*)\*(?!\*)\s*</string>
            <key>name</key>
            <string>constant.language.import-export-all.js</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-modifiers</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comma</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
            <key>name</key>
            <string>string.unquoted.module.ruko</string>
          </dict>
        </array>
      </dict>
      <key>constraint-expression</key>
      <dict>
        <key>comment</key>
        <string>most of the keywords come from Dafny</string>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(where)\b\s*</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.validate.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=^|[,;]|\#?[(\[{])\s*
(
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
</string>
            <key>name</key>
            <string>keyword.control.validate.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>query-expression</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>comment</key>
        <string>RINQ (Ruko INtegrated Query) expression mini-language</string>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(from)\b\s*</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>query-body</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#in-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#where-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#join-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#sort-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#select-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#group-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#take-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#reduce-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#set-clause</string>
          </dict>
        </array>
      </dict>
      <key>in-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    [io]n|of
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>join-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    \b (?:full|part|self|cross)? \b \s*
    \b (?:inner|outer|left|right)? \b \s*
    \b (?:join)
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b([io]nto|[io]n|of|where)\b\s*</string>
            <key>end</key>
            <string>(?=[,;)}\]])</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.query.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#query-body</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>where-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    where|having|filter|reject
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>sort-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    \b (?:sort|order|then) \b \s*
    \b (?:asc|desc)? \b \s*
    \b (?:by|with)?
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>select-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    \b (?:select|map) \b \s*
    \b (?:unique|any|all|some|every)?
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(by|with|while)\b\s*</string>
            <key>end</key>
            <string>(?=[,;)}\]])</string>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#query-body</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>take-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    \b (?:take|drop|limit|offset) \b \s*
    \b (?:first|last|head|tail)?
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(by|with|while)\b\s*</string>
            <key>end</key>
            <string>(?=[,;)}\]])</string>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#query-body</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>reduce-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    \b (?:fold|reduce|scan) \b \s*
    \b (?:first|last|left|right)?
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(by|while|with)\b\s*</string>
            <key>end</key>
            <string>(?=[,;)}\]])</string>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#query-body</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>group-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    group|lookup
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(by|[io]nto)\b\s*</string>
            <key>end</key>
            <string>(?=[,;)}\]])</string>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#query-body</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>set-clause</key>
      <dict>
        <key>begin</key>
        <string>(?x)
\s*
(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (
    and|x?or|but
  )
\b
\s*
</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.query.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#query-body</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>namespace-separators</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#accessor-operators</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;!\\)\\(?!\\)</string>
            <key>name</key>
            <string>punctuation.separator.namespace.ruko</string>
          </dict>
        </array>
      </dict>
      <key>declarations</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(quote)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.quote.ruko</string>
              </dict>
            </dict>
            <key>name</key>
            <string>meta.quote.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>begin</key>
                <string>\s*(\{)\s*</string>
                <key>end</key>
                <string>\s*(\})\s*</string>
                <key>name</key>
                <string>meta.quote.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.block.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#embedded-expressions</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#embedded-formatting</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#embedded-arguments</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>$self</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.quote.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(style)\b\s*</string>
            <key>end</key>
            <string>(?=$|['"`\w\s]|#?[(\[{])</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.style.ruko</string>
              </dict>
            </dict>
            <key>name</key>
            <string>meta.style.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#style-rules</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#style-pair</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#style-block</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.style.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(oper)\b\s*</string>
            <key>end</key>
            <string>(:?=(?:\s+|$)(?!#?[(\[{]))|(?=#?{|[;,]|$)</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.operator.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.terminator.operator.ruko</string>
              </dict>
            </dict>
            <key>name</key>
            <string>meta.operator.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#angle-brackets</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#operator-declarations</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>variable.parameter.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(script)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.script.ruko</string>
              </dict>
            </dict>
            <key>name</key>
            <string>meta.script.ruko</string>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#script-blocks</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.script.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(elem)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.component.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.component.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)([?!:]:|[?!]?\.|[?!-]&gt;)</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>punctuation.separator.namespace.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                  <dict>
                    <key>match</key>
                    <string>\b([\p{Pc}\p{L}]\w*)\b(?=[:.])</string>
                    <key>name</key>
                    <string>entity.name.tag.namespace.ruko</string>
                  </dict>
                  <dict>
                    <key>match</key>
                    <string>\b((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)\b</string>
                    <key>name</key>
                    <string>support.class.component.ruko</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#clauses</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#declarations</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#keywords</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#html-tag-names</string>
                  </dict>
                </array>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(const|let|mut|dyn|va[rl]|use|given|expr|eval|init|comp)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.variable.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(decl)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.declare.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(func)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.function.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.function.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(actor)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.namespace.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.namespace.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(prop)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.property.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.property.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(proc)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.procedure.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.procedure.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(temp)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.template.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.template.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(class)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.class.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.class.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(impl)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.interface.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.interface.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(enum)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.enum.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.enum.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(module)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.module.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.module.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(iter)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.iterator.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.iterator.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(model)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.model.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.model.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(macro)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.macro.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.macro.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(query)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.query.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.query.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(object)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.object.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.object.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(trait)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.trait.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.trait.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(realm)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.realm.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.realm.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(union)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.union.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.union.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(struct)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.struct.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.struct.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(record)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.type.record.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#declaration-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#namespace-separators</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
                <key>name</key>
                <string>entity.name.record.ruko</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>declaration-clause</key>
      <dict>
        <key>name</key>
        <string>meta.declaration.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=^|[,;]|\#?[(\[{])\s*
(
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
</string>
            <key>name</key>
            <string>keyword.other.$1.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b([\p{Pc}\p{L}]\w*)\b(?=::|\.|-&gt;|\\)</string>
            <key>name</key>
            <string>entity.name.namespace.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-square-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-signature</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#decorators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-verbatim</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-keywords</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!\*)\*(?!\*)\s*</string>
            <key>name</key>
            <string>keyword.generator.asterisk.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comma</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.parameters.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#binding-pattern</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\{)\s*</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.section.class.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#modifier-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-formatting</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-arguments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>match</key>
            <string>::|\.|-&gt;|\\</string>
            <key>name</key>
            <string>punctuation.separator.namespace.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s+</string>
            <key>name</key>
            <string>meta.block.ruko</string>
          </dict>
        </array>
      </dict>
      <key>modifier-clause</key>
      <dict>
        <key>comment</key>
        <string>Modifiers for declarations in classes, objects, traits, etc.</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)
^\s*\b((?:
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b\s*
)+)(:)\s*
</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>storage.modifier.specifier.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.section.ruko</string>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>function-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Function def before function keyword; x = def()</string>
            <key>match</key>
            <string>(?x)
\s*
(?&lt;=[?!:]:|\b\.|[?!]\.) # lookbehind for valid assignment
\s*
\b([\p{Pc}\p{L}]\w*)\b\s+ # Label
(:?=)\s+ # Assignment operator

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
(?=
  \b
  (?: # Function types
    func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
  )
  \b
)
</string>
            <key>name</key>
            <string>meta.function.declaration.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.method.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
\s*
(?&lt;=[?!:]:|\b\.|[?!]\.) # lookbehind for valid assignment
\s*
\b([\p{Pc}\p{L}]\w*)\b\s+ # Label
(:?=)\s+ # Assignment operator

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
\b(fn)\b\s* # function keyword
(\|)(?!\|)
</string>
            <key>end</key>
            <string>(?&lt;!\|)(\|)(?!\|)</string>
            <key>name</key>
            <string>meta.function.declaration.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.method.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>storage.type.function.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>Function def before function keyword; x = func()</string>
            <key>match</key>
            <string>(?x)
\s*
\b([\p{Pc}\p{L}]\w*)\b\s+ # Label
(:?=)\s+ # Assignment operator

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
(?=
  \b
  (?: # Function types
    func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
  )
  \b
)
</string>
            <key>name</key>
            <string>meta.function.declaration.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>Function def with function keyword; x = fn |args| { }</string>
            <key>begin</key>
            <string>(?x)

\s*
\b([\p{Pc}\p{L}]\w*)\b\s+ # Label
(:?=)\s+ # Assignment operator
\s*

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
\b(fn)\b\s* # function keyword
(\|)(?!\|)
</string>
            <key>end</key>
            <string>(?&lt;!\|)(\|)(?!\|)</string>
            <key>name</key>
            <string>meta.function.declaration.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.assignment.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>storage.type.function.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list-content</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>argument-list</key>
      <dict>
        <key>comment</key>
        <string>Function argument list starting and ending with |</string>
        <key>name</key>
        <string>meta.function.arguments.ruko</string>
        <key>begin</key>
        <string>(?x)
(?&lt;=
  (?:
      # beginning of line
      ^
    | # separator
      [,;]
    | # opening bracket
      \#? [({\[]
    | # postfix or infix operator
      [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+ \s
    | # a keyword
      (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
      [\p{Pc}\p{L}]\w*  # keyword or identifier
  ) \s*
) \s*
(\|) (?=
  (?: \#?[(\[{] )? # opening bracket
  (?: [;,] \s* )* # optional separators
  (?:
    ((?:[*&amp;%@^!~?\\\-+]|\.{3})*) # any sigils
    (\b[\p{Pc}\p{L}]\w*\b) # identifier
    ([!?]*) # optional sigils
    \s*
  )+ (?: \#? [)\]}] )? # closing bracket
)
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.arguments.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?&lt;!\|)(\|)(?!\|)</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#argument-list-content</string>
          </dict>
        </array>
      </dict>
      <key>argument-list-content</key>
      <dict>
        <key>name</key>
        <string>meta.function.arguments.content.ruko</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
            <key>name</key>
            <string>keyword.operator.expression.as.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=[\w\s][(|])\.</string>
            <key>name</key>
            <string>punctuation.definition.metadata.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>,</string>
            <key>name</key>
            <string>punctuation.separator.arguments.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern</string>
          </dict>
        </array>
      </dict>
      <key>clauses</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#do-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#for-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#if-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#match-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#switch-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#catch-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#with-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#try-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#new-clause</string>
          </dict>
        </array>
      </dict>
      <key>new-clause</key>
      <dict>
        <key>applyEndPatternLast</key>
        <true/>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(old|new)\b</string>
        <key>end</key>
        <string>(?=)|$</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.expression.$1.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x) \s*\b

(?!
  (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
  (?: # keywords
    [io]n|of|[ai]s|by|has|old|new|del
    |unset|ref|deref|and|x?or|not
    |const|let|mut|dyn|va[rl]|use
    |given|expr|eval|init|comp
    |func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
    |go|defer|do|with|from|where
    |if|else|then|guard|when
    |for|loop|while|goto|move
    |try|throw|catch|switch
    |match|case|pass|def|defer
    |break|skip|redo|retry
    |return|yield|await|scope
    |import|export|intern|extern
    |debug|assert|check|decl
  )
  \b
)

# identifier
([\p{Pc}\p{L}]\w*)
\b
</string>
            <key>name</key>
            <string>entity.name.instance.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-clause</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-keywords</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-square-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#parameter-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#namespace-separators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#round-brackets</string>
          </dict>
        </array>
      </dict>
      <key>do-clause</key>
      <dict>
        <key>match</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(do)\b\s*</string>
        <key>name</key>
        <string>keyword.control.do.ruko</string>
      </dict>
      <key>type-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.as.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has|has\s+not|has)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.expression.is.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(type)\b\s*</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.other.typedef.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*([:!=&lt;/&gt;.^$%?*+|&amp;~]?=)\s*</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.operator.assignment.ruko</string>
                  </dict>
                </dict>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>try-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(try|then)\b\s*</string>
        <key>end</key>
        <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.try.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.error.ruko</string>
          </dict>
        </dict>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.colon.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b([io]n|of|as|await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.error.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>catch-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(catch)\b\s*</string>
        <key>end</key>
        <string>\s*(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.catch.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.error.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
            <key>name</key>
            <string>keyword.control.error.ruko</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#catch-case-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>catch-case-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(def|else)\b\s*(:)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.error.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(case)\b\s*</string>
            <key>end</key>
            <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.error.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list</string>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has)\b\s*</string>
                <key>end</key>
                <string>(?=)|$</string>
                <key>beginCaptures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.control.error.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#types</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(if\s+not|if|when\s+not|when|guard|as)\b\s*</string>
                <key>name</key>
                <string>keyword.control.error.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#type-keywords</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>for-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(for|while\s+not|while)\b\s*</string>
        <key>end</key>
        <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.for.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.loop.ruko</string>
          </dict>
        </dict>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.colon.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b([io]n|of|as|await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.loop.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>if-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(if\s+not|if|when\s+not|when|guard)\b\s*</string>
        <key>end</key>
        <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.if.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.conditional.ruko</string>
          </dict>
        </dict>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.colon.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.conditional.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>match-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(match)\b\s*</string>
        <key>end</key>
        <string>\s*(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.match.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.match.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.match.ruko</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#match-case-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>match-case-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(def|else)\b\s*(:)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.match.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(case)\b\s*</string>
            <key>end</key>
            <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.match.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list</string>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has)\b\s*</string>
                <key>end</key>
                <string>(?=)|$</string>
                <key>beginCaptures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.control.match.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#types</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(if\s+not|if|when\s+not|when|guard|as)\b\s*</string>
                <key>name</key>
                <string>keyword.control.match.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#type-keywords</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>switch-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(switch)\b\s*</string>
        <key>end</key>
        <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.switch.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.switch.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.switch.ruko</string>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})\s*</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#switch-case-clause</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>switch-case-clause</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(def|else)\b\s*(:)</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.switch.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(case)\b\s*</string>
            <key>end</key>
            <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|$</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>keyword.control.switch.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.case-statement.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list</string>
              </dict>
              <dict>
                <key>applyEndPatternLast</key>
                <true/>
                <key>begin</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(is\s+not|is|has\s+not|has)\b\s*</string>
                <key>end</key>
                <string>(?=)|$</string>
                <key>beginCaptures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>keyword.control.switch.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#types</string>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(if\s+not|if|when\s+not|when|guard|as)\b\s*</string>
                <key>name</key>
                <string>keyword.control.switch.ruko</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#type-keywords</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>with-clause</key>
      <dict>
        <key>begin</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(with)\b\s*</string>
        <key>end</key>
        <string>\s*(:)(?=(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.))|(?=[,;)}\]])|$</string>
        <key>name</key>
        <string>meta.if.ruko</string>
        <key>beginCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.control.with.ruko</string>
          </dict>
        </dict>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.colon.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(await)\b\s*</string>
            <key>name</key>
            <string>keyword.control.with.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>object-key</key>
      <dict>
        <key>begin</key>
        <string>(?&lt;=^|[,;]|\#?[(\[{])\s*</string>
        <key>end</key>
        <string>\s*(?=[,;)\]}]|$)|\s*(:)</string>
        <key>name</key>
        <string>meta.object-key.ruko</string>
        <key>endCaptures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.key-value.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[,;]|\#?[(\[{])\s*\b[\p{Pc}\p{L}]\w*\b\s*(?=[,;)\]}:]|$)</string>
            <key>name</key>
            <string>constant.other.object.key.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>object-value</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=(?:^|[,;(\[{])\s*)\b[\p{Pc}\p{L}]\w*\b(?=\s*(?:[,;)\]}]|=(?:['"`\w\s]|\#?[(\[{])|$))</string>
            <key>name</key>
            <string>variable.other.constant.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[,;]|\#?[(\[{])\s*\b[\p{Pc}\p{L}]\w*\b\s*(?=[,;)\]}]|=(?:['"`\w\s]|\#?[(\[{])|$)</string>
            <key>name</key>
            <string>variable.other.constant.ruko</string>
          </dict>
        </array>
      </dict>
      <key>object-argument</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=(?:^|[,;(\[{])\s*)\b[\p{Pc}\p{L}]\w*\b(?=\s*(?:[,;)\]}]|=(?:['"`\w\s]|\#?[(\[{])|$))</string>
            <key>name</key>
            <string>variable.parameter.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;=^|[,;]|\#?[(\[{])\s*\b[\p{Pc}\p{L}]\w*\b\s*(?=[,;)\]}]|=(?:['"`\w\s]|\#?[(\[{])|$)</string>
            <key>name</key>
            <string>variable.parameter.ruko</string>
          </dict>
        </array>
      </dict>
      <key>as-keyword</key>
      <dict>
        <key>match</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
        <key>name</key>
        <string>keyword.operator.expression.as.ruko</string>
      </dict>
      <key>given-using-keyword</key>
      <dict>
        <key>match</key>
        <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(given|using)\b\s*</string>
        <key>name</key>
        <string>keyword.operator.expression.$1.ruko</string>
      </dict>
      <key>binding-pattern-object</key>
      <dict>
        <key>begin</key>
        <string>(#?{)\s*</string>
        <key>end</key>
        <string>\s*(})</string>
        <key>name</key>
        <string>meta.brace.curly.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.binding-pattern.object.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#object-argument</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#labels</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#object-key</string>
          </dict>
          <dict>
            <key>match</key>
            <string>;|,</string>
            <key>name</key>
            <string>punctuation.separator.mapping.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#illegal</string>
          </dict>
        </array>
      </dict>
      <key>binding-pattern-tuple</key>
      <dict>
        <key>begin</key>
        <string>(#?\()\s*</string>
        <key>end</key>
        <string>\s*(\))</string>
        <key>name</key>
        <string>meta.brace.curly.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.binding-pattern.tuple.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#labels</string>
          </dict>
          <dict>
            <key>match</key>
            <string>;|,</string>
            <key>name</key>
            <string>punctuation.separator.arguments.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#illegal</string>
          </dict>
        </array>
      </dict>
      <key>binding-pattern-array</key>
      <dict>
        <key>begin</key>
        <string>(#?\[)\s*</string>
        <key>end</key>
        <string>\s*(])</string>
        <key>name</key>
        <string>meta.brace.curly.ruko</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.definition.binding-pattern.array.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#labels</string>
          </dict>
          <dict>
            <key>match</key>
            <string>;|,</string>
            <key>name</key>
            <string>punctuation.separator.sequence.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#illegal</string>
          </dict>
        </array>
      </dict>
      <key>default-value</key>
      <dict>
        <key>begin</key>
        <string>(?&lt;=^|[\s({\[])(\=)(?=$|[)}\]\s])|(?&lt;=['"`)}\]\w]|\\.)(\=)(?=(?:['"`\w]|\#?[(\[{]))</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.assignment.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.assignment.ruko</string>
          </dict>
        </dict>
        <key>end</key>
        <string>(?=\|(?:$|[^|])|[,;)}\]])</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>$self</string>
          </dict>
        </array>
      </dict>
      <key>binding-pattern</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#default-value</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#as-keyword</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#given-using-keyword</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern-object</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern-tuple</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#binding-pattern-array</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#parameter-variables</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-operators</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-signature</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#embedded-expressions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#brackets</string>
          </dict>
        </array>
      </dict>
      <key>labels</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Function def before function keyword: x = def()</string>
            <key>match</key>
            <string>(?x)
(?&lt;=^|[,;]|\#?[(\[{])\s*

(\b[\p{Pc}\p{L}][\p{Pd}\w]*\b) # Label
(:) # Key value separator
\s*\b

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
(?=
  \b
  (?: # Function types
    func|pro[pc]|type|class|actor|trait
    |impl|enum|module|model|struct|record
    |union|iter|macro|query|elem|temp|oper
    |object|realm|style|script|quote
  )
  \b
)
</string>
            <key>name</key>
            <string>meta.object-literal.key.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.key-value.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=^|[,;]|\#?[(\[{])\s*

(\b[\p{Pc}\p{L}][\p{Pd}\w]*\b) # Label
(:) # Key value separator
\s*\b

(
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  [\p{Pc}\p{L}]\w* # identifier
  \b
)?

\s*
\b(fn)\b\s* # function keyword
(\|)(?!\|)
</string>
            <key>end</key>
            <string>(?&lt;!\|)(\|)(?!\|)</string>
            <key>name</key>
            <string>meta.object-literal.key.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>entity.name.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.key-value.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#modifiers</string>
                  </dict>
                </array>
              </dict>
              <key>4</key>
              <dict>
                <key>name</key>
                <string>storage.type.function.ruko</string>
              </dict>
              <key>5</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#argument-list-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=^|[,;]|\#?[(\[{])\s*
(\b[\p{Pc}\p{L}][\p{Pd}\w]*\b) # label
(?=:(?:[,;'"`)}\]\w\s]|\#?[(\[{]|\\.)) # lookahead for key-value separator
</string>
            <key>name</key>
            <string>meta.object-literal.key.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>constant.other.object.key.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#constants</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#numbers</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#symbols</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
        </array>
      </dict>
      <key>punctuation</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comma</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#double-semicolon</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#semicolon</string>
          </dict>
        </array>
      </dict>
      <key>line-continuation</key>
      <dict>
        <key>begin</key>
        <string>\s*(\\)\s*(?=/[/*](?![\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+)|$)</string>
        <key>end</key>
        <string>^\s*(?=\S)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.continuation.line.ruko</string>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
        </array>
      </dict>
      <key>comma</key>
      <dict>
        <key>match</key>
        <string>\s*(,)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.separator.expression.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>double-semicolon</key>
      <dict>
        <key>match</key>
        <string>\s*(;;)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.terminator.statement.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>semicolon</key>
      <dict>
        <key>match</key>
        <string>\s*(;)</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>punctuation.terminator.expression.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>brackets</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#angle-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#curly-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#square-brackets</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#round-brackets</string>
          </dict>
        </array>
      </dict>
      <key>generics</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>&lt;&gt; exception</string>
            <key>match</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w\s]|(?:[?!]\.|[?!:]:|[?!-]&gt;)=?)(&lt;)(&gt;)(?=[!~]?(?:['"`\w&lt;]|\#?[(\[{]))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>&lt;...&gt; with content</string>
            <key>name</key>
            <string>meta.type-arguments.ruko</string>
            <key>begin</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w\s]|(?:[?!]\.|[?!:]:|[?!-]&gt;)=?)(&lt;)(?=[!@#$%^&amp;*\-+|\\/~:.?&lt;]*(?:['"`\w]|\#?[(\[{]))</string>
            <key>end</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w])(&gt;)(?:(!)|(~))?</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#accessor-operators</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.macro.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#brackets</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#type-signature</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>accessor-operators</key>
      <dict>
        <key>name</key>
        <string>punctuation.type.arguments.ruko</string>
        <key>match</key>
        <string>(?x)
(?&lt;=\b|&gt;)
(?:
  ( \?[.:&gt;]=? ) | # 1: optional access/unwrap
  ( ![.:&gt;]=? ) | # 2: assert/unwrap operator
  ( (?:::|\.|-&gt;)=? ) # 3: standard accessor
)
(?=\b|&lt;)
</string>
        <key>captures</key>
        <dict>
          <key>1</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.optional.ruko</string>
          </dict>
          <key>2</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.assert.ruko</string>
          </dict>
          <key>3</key>
          <dict>
            <key>name</key>
            <string>keyword.operator.accessor.ruko</string>
          </dict>
        </dict>
      </dict>
      <key>angle-brackets</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>&lt;&gt; exception</string>
            <key>match</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w\s]|(?:[?!]\.|[?!:]:|[?!-]&gt;)=?)(&lt;)(&gt;)(?=[!~]?(?:['"`\w&lt;]|\#?[(\[{]))</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>comment</key>
            <string>&lt;...&gt; with content</string>
            <key>name</key>
            <string>meta.type-arguments.ruko</string>
            <key>begin</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w\s]|(?:[?!]\.|[?!:]:|[?!-]&gt;)=?)(&lt;)(?=[!@#$%^&amp;*\-+|\\/~:.?&lt;]*(?:['"`\w]|\#?[(\[{]))</string>
            <key>end</key>
            <string>(?&lt;=^|['"`)}\]&gt;\w])(&gt;)(?:(!)|(~))?</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#accessor-operators</string>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
            </dict>
            <key>endCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.type.arguments.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.macro.ruko</string>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>keyword.operator.destructor.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#brackets</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#types</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#type-signature</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-expressions</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-formatting</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#embedded-arguments</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>curly-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.mapping.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=(?:['"`)}\]\w]|\\.)[\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]*):(?=(?:['"`\w\s]|\#?[(\[{])|$)</string>
                <key>name</key>
                <string>punctuation.separator.key-value.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      (?:^|[\s\p{P}\p{S}]):\|\s*\| # beside a lambda pipe
    | (?:^|[,;'"`)}\]\w\s]|\\.)\|
    | ^\s*\|
  )
)
\s*
(\#\{)
\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.section.class.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      (?:^|[\s\p{P}\p{S}]):\|\s*\| # beside a lambda pipe
    | (?:^|[,;'"`)}\]\w\s]|\\.)\|
    | ^\s*\|
  )
)
\s*
(\{)
\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#?\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.object.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-value</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-key</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#as-keyword</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # expression keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-value</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-key</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # expression keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.dictionary.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-value</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-key</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      [,;({\[]
    | (?:^|[,;({\[)}\]\w'"`]|\\.):\s*
    | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
  )
  \s*
)
(\#\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.mapping.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-value</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-key</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:
      [,;({\[]
    | (?:^|[,;({\[)}\]\w'"`]|\\.):\s*
    | [\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]+
  )
  \s*
)
(\{)\s*
</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.dictionary.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#labels</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-value</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#object-key</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\{)\s*</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.section.class.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\{)\s*</string>
            <key>end</key>
            <string>\s*(\})</string>
            <key>name</key>
            <string>meta.brace.curly.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.block.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>round-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>\s*(?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b(as)\b\s*</string>
                <key>name</key>
                <string>keyword.operator.expression.as.ruko</string>
              </dict>
              <dict>
                <key>match</key>
                <string>(?&lt;=[\w\s][(|])\.</string>
                <key>name</key>
                <string>punctuation.definition.metadata.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#?\()\s*
</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.tuple.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#as-keyword</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;= # literal
    (?: [\w'"`)}\]] | \\.) &gt;* !?
  | [^.]\.=?|[?!:]:=?
)
(\#?\()\s*
</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.parameters.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#parameter-variables</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.tuple.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\()\s*</string>
            <key>end</key>
            <string>\s*(\))</string>
            <key>name</key>
            <string>meta.brace.round.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.expression.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>square-brackets</key>
      <dict>
        <key>repository</key>
        <dict>
          <key>punctuation</key>
          <dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>match</key>
                <string>,</string>
                <key>name</key>
                <string>punctuation.separator.sequence.ruko</string>
              </dict>
            </array>
          </dict>
        </dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |case
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\#?\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.binding-pattern.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#as-keyword</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.sequence.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#message-passing</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;=
  (?:^|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \b
    (?: # destructuring keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
    )
  \b
  (?:$|[,;'"({\[)}\]\s]) # beside a delimiter or space
  \s*
)
(\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#message-passing</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(?x)
(?&lt;= # literal
    (?: [\w'"`)}\]] | \\.)
  | [^.]\.=?|[?!:]:=?
)
(\#?\[)\s*
</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.attribute-selector.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#slice-syntax</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\#\[)\s*</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.sequence.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#message-passing</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>begin</key>
            <string>(\[)\s*</string>
            <key>end</key>
            <string>\s*(\])</string>
            <key>name</key>
            <string>meta.brace.square.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.array.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#message-passing</string>
              </dict>
              <dict>
                <key>include</key>
                <string>#punctuation</string>
              </dict>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>slice-syntax</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?&lt;=[:'"`\w\s]|\\.)(:)(?=[:'"`\w\s]|#?[(\[{]|$)</string>
            <key>name</key>
            <string>keyword.operator.slice.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#numbers</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#space</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#comments</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#line-continuation</string>
          </dict>
        </array>
      </dict>
      <key>message-passing</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#literals</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#constants</string>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>(?x)
(?&lt;= # literal
  (?: 
      ^ # start of line
    | [\w'"`)}\]] # literals and closing brackets
    | [?!:]:[\p{Pc}\p{L}]\w* # identifiers
    | [?!][\p{Pc}\p{L}]\w* # identifiers
    | \\. # escape sequences
  ) 
  \s*
)
\s*
([?!][:&gt;]?=?|[:&gt;])? # message access operator
( # Message name
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
(:)
</string>
            <key>end</key>
            <string>(?=)|$</string>
            <key>name</key>
            <string>meta.message.ruko</string>
            <key>beginCaptures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)
(?:
  ( \?[:&gt;]?=? ) | # 1: optional access/unwrap
  ( ![:&gt;]?=? ) | # 2: assert/unwrap operator
  ( [:&gt;]?=? ) # 3: access operator
)
</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.optional.ruko</string>
                      </dict>
                      <key>2</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.assert.ruko</string>
                      </dict>
                      <key>3</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.accessor.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)
(?: # Regular variables
  # Leading underscore
  (\p{Pc}+\w*(?!\p{Pc}+))
| # Train case
  ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
| # Pascal case
  ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
| # Camel or kebab case
  ([\p{Pc}\p{L}]\w*)
)
</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>patterns</key>
                        <array>
                          <dict>
                            <key>include</key>
                            <string>#type-names</string>
                          </dict>
                          <dict>
                            <key>include</key>
                            <string>#support-functions</string>
                          </dict>
                        </array>
                        <key>name</key>
                        <string>entity.name.tag.ruko</string>
                      </dict>
                      <key>2</key>
                      <dict>
                        <key>patterns</key>
                        <array>
                          <dict>
                            <key>include</key>
                            <string>#type-names</string>
                          </dict>
                          <dict>
                            <key>include</key>
                            <string>#support-functions</string>
                          </dict>
                        </array>
                        <key>name</key>
                        <string>entity.name.tag.ruko support.class.component.ruko</string>
                      </dict>
                      <key>3</key>
                      <dict>
                        <key>patterns</key>
                        <array>
                          <dict>
                            <key>include</key>
                            <string>#type-names</string>
                          </dict>
                          <dict>
                            <key>include</key>
                            <string>#support-functions</string>
                          </dict>
                        </array>
                        <key>name</key>
                        <string>entity.name.class.builtin.ruko</string>
                      </dict>
                      <key>4</key>
                      <dict>
                        <key>patterns</key>
                        <array>
                          <dict>
                            <key>include</key>
                            <string>#type-names</string>
                          </dict>
                          <dict>
                            <key>include</key>
                            <string>#support-functions</string>
                          </dict>
                        </array>
                        <key>name</key>
                        <string>entity.name.function.member.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                </array>
              </dict>
              <key>3</key>
              <dict>
                <key>name</key>
                <string>punctuation.separator.arguments.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#brackets</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;=\#?\[[\p{P}\p{S}&amp;&amp;[^,;'"`({\[)}\]\p{Pc}]]*)
\s*
( # Message name
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
\s*
(?= 
  (?:[?!][:&gt;]?=?|[:&gt;])? # message access operator
  (?: # function name
    \b
    # ignore all keywords
    (?!
      (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
      (?: # keywords
        [io]n|of|[ai]s|by|has|old|new|del
        |unset|ref|deref|and|x?or|not
        |const|let|mut|dyn|va[rl]|use
        |given|expr|eval|init|comp
        |func|pro[pc]|type|class|actor|trait
        |impl|enum|module|model|struct|record
        |union|iter|macro|query|elem|temp|oper
        |object|realm|style|script|quote
        |go|defer|do|with|from|where
        |if|else|then|guard|when
        |for|loop|while|goto|move
        |try|throw|catch|switch
        |match|case|pass|def|defer
        |break|skip|redo|retry
        |return|yield|await|scope
        |import|export|intern|extern
        |debug|assert|check|decl
      )
      \b
    )
    \b
    [\p{Pc}\p{L}]\w* # identifier
    \b
  ) 
)
</string>
            <key>name</key>
            <string>meta.message.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)
(?: # Regular variables
  # Leading underscore
  (\p{Pc}+\w*(?!\p{Pc}+))
| # Train case
  ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
| # Pascal case
  ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
| # Camel or kebab case
  ([\p{Pc}\p{L}]\w*)
)
</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.global.ruko</string>
                      </dict>
                      <key>2</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.constant.object.ruko</string>
                      </dict>
                      <key>3</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.class.stat.ruko</string>
                      </dict>
                      <key>4</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.object.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)
(?&lt;= # literal
  (?: 
      [\w'"`)}\]] # literals and closing brackets
    | (?:[?!][:&gt;]?=?|[:&gt;])?[\p{Pc}\p{L}]\w* # identifiers
    | \\. # escape sequences
    | [;,] # punctuation
    | ^ # start of line
  ) 
  \s*
)
\s*
([?!][:&gt;]?=?|[:&gt;])? # message access operator
( # Message name
  \b
  # ignore all keywords
  (?!
    (?&lt;!(?:(?&lt;!\.)\.|[?!:]:|[?!-]&gt;)=?)\b
    (?: # keywords
      [io]n|of|[ai]s|by|has|old|new|del
      |unset|ref|deref|and|x?or|not
      |const|let|mut|dyn|va[rl]|use
      |given|expr|eval|init|comp
      |func|pro[pc]|type|class|actor|trait
      |impl|enum|module|model|struct|record
      |union|iter|macro|query|elem|temp|oper
      |object|realm|style|script|quote
      |go|defer|do|with|from|where
      |if|else|then|guard|when
      |for|loop|while|goto|move
      |try|throw|catch|switch
      |match|case|pass|def|defer
      |break|skip|redo|retry
      |return|yield|await|scope
      |import|export|intern|extern
      |debug|assert|check|decl
    )
    \b
  )
  \b
  [\p{Pc}\p{L}]\w* # identifier
  \b
)
</string>
            <key>name</key>
            <string>meta.message.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)
(?:
  ( \?[:&gt;]?=? ) | # 1: optional access/unwrap
  ( ![:&gt;]?=? ) | # 2: assert/unwrap operator
  ( [:&gt;]?=? ) # 3: access operator
)
</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.optional.ruko</string>
                      </dict>
                      <key>2</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.assert.ruko</string>
                      </dict>
                      <key>3</key>
                      <dict>
                        <key>name</key>
                        <string>keyword.operator.accessor.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                </array>
              </dict>
              <key>2</key>
              <dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>match</key>
                    <string>(?x)
(?: # Regular variables
  # Leading underscore
  (\p{Pc}+\w*(?!\p{Pc}+))
| # Train case
  ([\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Ll}]*)
| # Pascal case
  ((?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+)
| # Camel or kebab case
  ([\p{Pc}\p{L}]\w*)
)
</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.property.dynamic.ruko</string>
                      </dict>
                      <key>2</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.constant.property.ruko</string>
                      </dict>
                      <key>3</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.property.stat.ruko</string>
                      </dict>
                      <key>4</key>
                      <dict>
                        <key>name</key>
                        <string>variable.other.property.ruko</string>
                      </dict>
                    </dict>
                  </dict>
                </array>
              </dict>
            </dict>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-calls</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-signature</string>
          </dict>
        </array>
      </dict>
      <key>directives</key>
      <dict>
        <key>comments</key>
        <string>Yeah these are just straight-up copied from C/C++ grammars</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>^\s*(\#)(!|if|else|elif|end|ifdef|ifndef)\b</string>
            <key>end</key>
            <string>$</string>
            <key>name</key>
            <string>meta.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.control.directive.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>^\s*(\#)(define|undef)\b</string>
            <key>end</key>
            <string>$</string>
            <key>name</key>
            <string>meta.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.control.directive.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#regexp-patterns</string>
              </dict>
              <dict>
                <key>begin</key>
                <string>(:)\s*</string>
                <key>end</key>
                <string>\s*([,;])|$</string>
                <key>name</key>
                <string>string.regexp.replace.ruko</string>
                <key>captures</key>
                <dict>
                  <key>1</key>
                  <dict>
                    <key>name</key>
                    <string>punctuation.definition.regexp.ruko</string>
                  </dict>
                </dict>
                <key>patterns</key>
                <array>
                  <dict>
                    <key>include</key>
                    <string>#back-references</string>
                  </dict>
                  <dict>
                    <key>include</key>
                    <string>#xml-regex-content</string>
                  </dict>
                  <dict>
                    <key>begin</key>
                    <string>\s*({)</string>
                    <key>end</key>
                    <string>(})\s*</string>
                    <key>name</key>
                    <string>meta.interpolation.regexp.ruko</string>
                    <key>captures</key>
                    <dict>
                      <key>1</key>
                      <dict>
                        <key>name</key>
                        <string>punctuation.definition.variable.ruko</string>
                      </dict>
                    </dict>
                    <key>patterns</key>
                    <array>
                      <dict>
                        <key>include</key>
                        <string>#back-references</string>
                      </dict>
                      <dict>
                        <key>include</key>
                        <string>#xml-regex-content</string>
                      </dict>
                      <dict>
                        <key>include</key>
                        <string>$self</string>
                      </dict>
                    </array>
                  </dict>
                </array>
              </dict>
              <dict>
                <key>match</key>
                <string>.+</string>
                <key>name</key>
                <string>meta.directive.definition.ruko</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>^\s*(\#)(include|exclude|import|export|extern|intern)\b</string>
            <key>end</key>
            <string>$</string>
            <key>name</key>
            <string>meta.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.control.directive.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>#module-content</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>applyEndPatternLast</key>
            <true/>
            <key>begin</key>
            <string>^\s*(\#)(pragma|region|endregion|once)\b</string>
            <key>end</key>
            <string>$</string>
            <key>name</key>
            <string>meta.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>keyword.control.directive.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
          <dict>
            <key>comment</key>
            <string>null directive</string>
            <key>match</key>
            <string>^\s*(\#)\s*$</string>
            <key>name</key>
            <string>meta.directive.ruko</string>
            <key>captures</key>
            <dict>
              <key>1</key>
              <dict>
                <key>name</key>
                <string>punctuation.definition.directive.ruko</string>
              </dict>
              <key>2</key>
              <dict>
                <key>name</key>
                <string>text.whitespace.ruko</string>
              </dict>
            </dict>
            <key>patterns</key>
            <array>
              <dict>
                <key>include</key>
                <string>$self</string>
              </dict>
            </array>
          </dict>
        </array>
      </dict>
      <key>css-property-names</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)\b(
  accent-color|additive-symbols|align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration
  |animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|aspect-ratio|backdrop-filter
  |backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image
  |background-origin|background-position|background-position-[xy]|background-repeat|background-size|bleed|block-size|border
  |border-block-end|border-block-end-color|border-block-end-style|border-block-end-width|border-block-start|border-block-start-color
  |border-block-start-style|border-block-start-width|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius
  |border-bottom-style|border-bottom-width|border-collapse|border-color|border-end-end-radius|border-end-start-radius|border-image
  |border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-inline-end
  |border-inline-end-color|border-inline-end-style|border-inline-end-width|border-inline-start|border-inline-start-color
  |border-inline-start-style|border-inline-start-width|border-left|border-left-color|border-left-style|border-left-width
  |border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-start-end-radius
  |border-start-start-radius|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style
  |border-top-width|border-width|bottom|box-decoration-break|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side
  |caret-color|clear|clip|clip-path|clip-rule|color|color-adjust|color-interpolation-filters|color-scheme|column-count|column-fill|column-gap
  |column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|contain|container|container-name|container-type|content|counter-increment
  |counter-reset|cursor|direction|display|empty-cells|enable-background|fallback|fill|fill-opacity|fill-rule|filter|flex|flex-basis
  |flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|flood-color|flood-opacity|font|font-display|font-family
  |font-feature-settings|font-kerning|font-language-override|font-optical-sizing|font-size|font-size-adjust|font-stretch
  |font-style|font-synthesis|font-variant|font-variant-alternates|font-variant-caps|font-variant-east-asian|font-variant-ligatures
  |font-variant-numeric|font-variant-position|font-variation-settings|font-weight|gap|glyph-orientation-horizontal|glyph-orientation-vertical
  |grid|grid-area|grid-auto-columns|grid-auto-flow|grid-auto-rows|grid-column|grid-column-end|grid-column-gap|grid-column-start
  |grid-gap|grid-row|grid-row-end|grid-row-gap|grid-row-start|grid-template|grid-template-areas|grid-template-columns|grid-template-rows
  |hanging-punctuation|height|hyphens|image-orientation|image-rendering|image-resolution|ime-mode|initial-letter|initial-letter-align
  |inline-size|inset|inset-block|inset-block-end|inset-block-start|inset-inline|inset-inline-end|inset-inline-start|isolation
  |justify-content|justify-items|justify-self|kerning|left|letter-spacing|lighting-color|line-break|line-clamp|line-height|list-style
  |list-style-image|list-style-position|list-style-type|margin|margin-block|margin-block-end|margin-block-start|margin-bottom|margin-inline|margin-inline-end|margin-inline-start
  |margin-left|margin-right|margin-top|marker-end|marker-mid|marker-start|marks|mask|mask-border|mask-border-mode|mask-border-outset
  |mask-border-repeat|mask-border-slice|mask-border-source|mask-border-width|mask-clip|mask-composite|mask-image|mask-mode
  |mask-origin|mask-position|mask-repeat|mask-size|mask-type|max-block-size|max-height|max-inline-size|max-lines|max-width
  |max-zoom|min-block-size|min-height|min-inline-size|min-width|min-zoom|mix-blend-mode|negative|object-fit|object-position
  |offset|offset-anchor|offset-distance|offset-path|offset-position|offset-rotation|opacity|order|orientation|orphans
  |outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-anchor|overflow-block|overflow-inline
  |overflow-wrap|overflow-[xy]|overscroll-behavior|overscroll-behavior-block|overscroll-behavior-inline|overscroll-behavior-[xy]
  |pad|padding|padding-block|padding-block-end|padding-block-start|padding-bottom|padding-inline|padding-inline-end|padding-inline-start|padding-left
  |padding-right|padding-top|page-break-after|page-break-before|page-break-inside|paint-order|perspective|perspective-origin
  |place-content|place-items|place-self|pointer-events|position|prefix|quotes|range|resize|right|rotate|row-gap|ruby-align
  |ruby-merge|ruby-position|scale|scroll-behavior|scroll-margin|scroll-margin-block|scroll-margin-block-end|scroll-margin-block-start
  |scroll-margin-bottom|scroll-margin-inline|scroll-margin-inline-end|scroll-margin-inline-start|scroll-margin-left|scroll-margin-right
  |scroll-margin-top|scroll-padding|scroll-padding-block|scroll-padding-block-end|scroll-padding-block-start|scroll-padding-bottom
  |scroll-padding-inline|scroll-padding-inline-end|scroll-padding-inline-start|scroll-padding-left|scroll-padding-right
  |scroll-padding-top|scroll-snap-align|scroll-snap-coordinate|scroll-snap-destination|scroll-snap-stop|scroll-snap-type
  |scrollbar-color|scrollbar-gutter|scrollbar-width|shape-image-threshold|shape-margin|shape-outside|shape-rendering|size
  |speak-as|src|stop-color|stop-opacity|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit
  |stroke-opacity|stroke-width|suffix|symbols|system|tab-size|table-layout|text-align|text-align-last|text-anchor|text-combine-upright
  |text-decoration|text-decoration-color|text-decoration-line|text-decoration-skip|text-decoration-skip-ink|text-decoration-style|text-decoration-thickness
  |text-emphasis|text-emphasis-color|text-emphasis-position|text-emphasis-style|text-indent|text-justify|text-orientation
  |text-overflow|text-rendering|text-shadow|text-size-adjust|text-transform|text-underline-offset|text-underline-position|top|touch-action|transform
  |transform-box|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function
  |translate|unicode-bidi|unicode-range|user-select|user-zoom|vertical-align|visibility|white-space|widows|width|will-change
  |word-break|word-spacing|word-wrap|writing-mode|z-index|zoom

  # SVG attributes
  |alignment-baseline|baseline-shift|clip-rule|color-interpolation|color-interpolation-filters|color-profile
  |color-rendering|cx|cy|dominant-baseline|enable-background|fill|fill-opacity|fill-rule|flood-color|flood-opacity
  |glyph-orientation-horizontal|glyph-orientation-vertical|height|kerning|lighting-color|marker-end|marker-mid
  |marker-start|r|rx|ry|shape-rendering|stop-color|stop-opacity|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap
  |stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|text-anchor|width|x|y

  # Not listed on MDN; presumably deprecated
  |adjust|after|align|align-last|alignment|alignment-adjust|appearance|attachment|azimuth|background-break
  |balance|baseline|before|bidi|binding|bookmark|bookmark-label|bookmark-level|bookmark-target|border-length
  |bottom-color|bottom-left-radius|bottom-right-radius|bottom-style|bottom-width|box|box-align|box-direction
  |box-flex|box-flex-group|box-lines|box-ordinal-group|box-orient|box-pack|break|character|collapse|column
  |column-break-after|column-break-before|count|counter|crop|cue|cue-after|cue-before|decoration|decoration-break
  |delay|display-model|display-role|down|drop|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust
  |drop-initial-before-align|drop-initial-size|drop-initial-value|duration|elevation|emphasis|family|fit|fit-position
  |flex-group|float-offset|gap|grid-columns|grid-rows|hanging-punctuation|header|hyphenate|hyphenate-after|hyphenate-before
  |hyphenate-character|hyphenate-lines|hyphenate-resource|icon|image|increment|indent|index|initial-after-adjust
  |initial-after-align|initial-before-adjust|initial-before-align|initial-size|initial-value|inline-box-align|iteration-count
  |justify|label|left-color|left-style|left-width|length|level|line|line-stacking|line-stacking-ruby|line-stacking-shift
  |line-stacking-strategy|lines|list|mark|mark-after|mark-before|marks|marquee|marquee-direction|marquee-play-count|marquee-speed
  |marquee-style|max|min|model|move-to|name|nav|nav-down|nav-index|nav-left|nav-right|nav-up|new|numeral|offset|ordinal-group
  |orient|origin|overflow-style|overhang|pack|page|page-policy|pause|pause-after|pause-before|phonemes|pitch|pitch-range
  |play-count|play-during|play-state|point|presentation|presentation-level|profile|property|punctuation|punctuation-trim
  |radius|rate|rendering-intent|repeat|replace|reset|resolution|resource|respond-to|rest|rest-after|rest-before|richness
  |right-color|right-style|right-width|role|rotation|rotation-point|rows|ruby|ruby-overhang|ruby-span|rule|rule-color
  |rule-style|rule-width|shadow|size|size-adjust|sizing|space|space-collapse|spacing|span|speak|speak-header|speak-numeral
  |speak-punctuation|speech|speech-rate|speed|stacking|stacking-ruby|stacking-shift|stacking-strategy|stress|stretch
  |string-set|style|style-image|style-position|style-type|target|target-name|target-new|target-position|text|text-height
  |text-justify|text-outline|text-replace|text-wrap|timing-function|top-color|top-left-radius|top-right-radius|top-style
  |top-width|trim|unicode|up|user-select|variant|voice|voice-balance|voice-duration|voice-family|voice-pitch|voice-pitch-range
  |voice-rate|voice-stress|voice-volume|volume|weight|white|white-space-collapse|word|wrap

  # in PascalCase
  |accentColor|additiveSymbols|alignContent|alignItems|alignSelf|all|animation|animationDelay|animationDirection|animationDuration
  |animationFillMode|animationIterationCount|animationName|animationPlayState|animationTimingFunction|aspectRatio|backdropFilter
  |backfaceVisibility|background|backgroundAttachment|backgroundBlendMode|backgroundClip|backgroundColor|backgroundImage
  |backgroundOrigin|backgroundPosition|backgroundPosition[xy]|backgroundRepeat|backgroundSize|bleed|blockSize|border
  |borderBlockEnd|borderBlockEndColor|borderBlockEndStyle|borderBlockEndWidth|borderBlockStart|borderBlockStartColor
  |borderBlockStartStyle|borderBlockStartWidth|borderBottom|borderBottomColor|borderBottomLeftRadius|borderBottomRightRadius
  |borderBottomStyle|borderBottomWidth|borderCollapse|borderColor|borderEndEndRadius|borderEndStartRadius|borderImage
  |borderImageOutset|borderImageRepeat|borderImageSlice|borderImageSource|borderImageWidth|borderInlineEnd
  |borderInlineEndColor|borderInlineEndStyle|borderInlineEndWidth|borderInlineStart|borderInlineStartColor
  |borderInlineStartStyle|borderInlineStartWidth|borderLeft|borderLeftColor|borderLeftStyle|borderLeftWidth
  |borderRadius|borderRight|borderRightColor|borderRightStyle|borderRightWidth|borderSpacing|borderStartEndRadius
  |borderStartStartRadius|borderStyle|borderTop|borderTopColor|borderTopLeftRadius|borderTopRightRadius|borderTopStyle
  |borderTopWidth|borderWidth|bottom|boxDecorationBreak|boxShadow|boxSizing|breakAfter|breakBefore|breakInside|captionSide
  |caretColor|clear|clip|clipPath|clipRule|color|colorAdjust|colorInterpolationFilters|colorScheme|columnCount|columnFill|columnGap
  |columnRule|columnRuleColor|columnRuleStyle|columnRuleWidth|columnSpan|columnWidth|columns|contain|container|containerName|containerType|content|counterIncrement
  |counterReset|cursor|direction|display|emptyCells|enableBackground|fallback|fill|fillOpacity|fillRule|filter|flex|flexBasis
  |flexDirection|flexFlow|flexGrow|flexShrink|flexWrap|float|floodColor|floodOpacity|font|fontDisplay|fontFamily
  |fontFeatureSettings|fontKerning|fontLanguageOverride|fontOpticalSizing|fontSize|fontSizeAdjust|fontStretch
  |fontStyle|fontSynthesis|fontVariant|fontVariantAlternates|fontVariantCaps|fontVariantEastAsian|fontVariantLigatures
  |fontVariantNumeric|fontVariantPosition|fontVariationSettings|fontWeight|gap|glyphOrientationHorizontal|glyphOrientationVertical
  |grid|gridArea|gridAutoColumns|gridAutoFlow|gridAutoRows|gridColumn|gridColumnEnd|gridColumnGap|gridColumnStart
  |gridGap|gridRow|gridRowEnd|gridRowGap|gridRowStart|gridTemplate|gridTemplateAreas|gridTemplateColumns|gridTemplateRows
  |hangingPunctuation|height|hyphens|imageOrientation|imageRendering|imageResolution|imeMode|initialLetter|initialLetterAlign
  |inlineSize|inset|insetBlock|insetBlockEnd|insetBlockStart|insetInline|insetInlineEnd|insetInlineStart|isolation
  |justifyContent|justifyItems|justifySelf|kerning|left|letterSpacing|lightingColor|lineBreak|lineClamp|lineHeight|listStyle
  |listStyleImage|listStylePosition|listStyleType|margin|marginBlock|marginBlockEnd|marginBlockStart|marginBottom|marginInline|marginInlineEnd|marginInlineStart
  |marginLeft|marginRight|marginTop|markerEnd|markerMid|markerStart|marks|mask|maskBorder|maskBorderMode|maskBorderOutset
  |maskBorderRepeat|maskBorderSlice|maskBorderSource|maskBorderWidth|maskClip|maskComposite|maskImage|maskMode
  |maskOrigin|maskPosition|maskRepeat|maskSize|maskType|maxBlockSize|maxHeight|maxInlineSize|maxLines|maxWidth
  |maxZoom|minBlockSize|minHeight|minInlineSize|minWidth|minZoom|mixBlendMode|negative|objectFit|objectPosition
  |offset|offsetAnchor|offsetDistance|offsetPath|offsetPosition|offsetRotation|opacity|order|orientation|orphans
  |outline|outlineColor|outlineOffset|outlineStyle|outlineWidth|overflow|overflowAnchor|overflowBlock|overflowInline
  |overflowWrap|overflow[xy]|overscrollBehavior|overscrollBehaviorBlock|overscrollBehaviorInline|overscrollBehavior[xy]
  |pad|padding|paddingBlock|paddingBlockEnd|paddingBlockStart|paddingBottom|paddingInline|paddingInlineEnd|paddingInlineStart|paddingLeft
  |paddingRight|paddingTop|pageBreakAfter|pageBreakBefore|pageBreakInside|paintOrder|perspective|perspectiveOrigin
  |placeContent|placeItems|placeSelf|pointerEvents|position|prefix|quotes|range|resize|right|rotate|rowGap|rubyAlign
  |rubyMerge|rubyPosition|scale|scrollBehavior|scrollMargin|scrollMarginBlock|scrollMarginBlockEnd|scrollMarginBlockStart
  |scrollMarginBottom|scrollMarginInline|scrollMarginInlineEnd|scrollMarginInlineStart|scrollMarginLeft|scrollMarginRight
  |scrollMarginTop|scrollPadding|scrollPaddingBlock|scrollPaddingBlockEnd|scrollPaddingBlockStart|scrollPaddingBottom
  |scrollPaddingInline|scrollPaddingInlineEnd|scrollPaddingInlineStart|scrollPaddingLeft|scrollPaddingRight
  |scrollPaddingTop|scrollSnapAlign|scrollSnapCoordinate|scrollSnapDestination|scrollSnapStop|scrollSnapType
  |scrollbarColor|scrollbarGutter|scrollbarWidth|shapeImageThreshold|shapeMargin|shapeOutside|shapeRendering|size
  |speakAs|src|stopColor|stopOpacity|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit
  |strokeOpacity|strokeWidth|suffix|symbols|system|tabSize|tableLayout|textAlign|textAlignLast|textAnchor|textCombineUpright
  |textDecoration|textDecorationColor|textDecorationLine|textDecorationSkip|textDecorationSkipInk|textDecorationStyle|textDecorationThickness
  |textEmphasis|textEmphasisColor|textEmphasisPosition|textEmphasisStyle|textIndent|textJustify|textOrientation
  |textOverflow|textRendering|textShadow|textSizeAdjust|textTransform|textUnderlineOffset|textUnderlinePosition|top|touchAction|transform
  |transformBox|transformOrigin|transformStyle|transition|transitionDelay|transitionDuration|transitionProperty|transitionTimingFunction
  |translate|unicodeBidi|unicodeRange|userSelect|userZoom|verticalAlign|visibility|whiteSpace|widows|width|willChange
  |wordBreak|wordSpacing|wordWrap|writingMode|zIndex|zoom
  |alignmentBaseline|baselineShift|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile
  |colorRendering|cx|cy|dominantBaseline|enableBackground|fill|fillOpacity|fillRule|floodColor|floodOpacity
  |glyphOrientationHorizontal|glyphOrientationVertical|height|kerning|lightingColor|markerEnd|markerMid
  |markerStart|r|rx|ry|shapeRendering|stopColor|stopOpacity|stroke|strokeDasharray|strokeDashoffset|strokeLinecap
  |strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|textAnchor|width|x|y
  |adjust|after|align|alignLast|alignment|alignmentAdjust|appearance|attachment|azimuth|backgroundBreak
  |balance|baseline|before|bidi|binding|bookmark|bookmarkLabel|bookmarkLevel|bookmarkTarget|borderLength
  |bottomColor|bottomLeftRadius|bottomRightRadius|bottomStyle|bottomWidth|box|boxAlign|boxDirection
  |boxFlex|boxFlexGroup|boxLines|boxOrdinalGroup|boxOrient|boxPack|break|character|collapse|column
  |columnBreakAfter|columnBreakBefore|count|counter|crop|cue|cueAfter|cueBefore|decoration|decorationBreak
  |delay|displayModel|displayRole|down|drop|dropInitialAfterAdjust|dropInitialAfterAlign|dropInitialBeforeAdjust
  |dropInitialBeforeAlign|dropInitialSize|dropInitialValue|duration|elevation|emphasis|family|fit|fitPosition
  |flexGroup|floatOffset|gap|gridColumns|gridRows|hangingPunctuation|header|hyphenate|hyphenateAfter|hyphenateBefore
  |hyphenateCharacter|hyphenateLines|hyphenateResource|icon|image|increment|indent|index|initialAfterAdjust
  |initialAfterAlign|initialBeforeAdjust|initialBeforeAlign|initialSize|initialValue|inlineBoxAlign|iterationCount
  |justify|label|leftColor|leftStyle|leftWidth|length|level|line|lineStacking|lineStackingRuby|lineStackingShift
  |lineStackingStrategy|lines|list|mark|markAfter|markBefore|marks|marquee|marqueeDirection|marqueePlayCount|marqueeSpeed
  |marqueeStyle|max|min|model|moveTo|name|nav|navDown|navIndex|navLeft|navRight|navUp|new|numeral|offset|ordinalGroup
  |orient|origin|overflowStyle|overhang|pack|page|pagePolicy|pause|pauseAfter|pauseBefore|phonemes|pitch|pitchRange
  |playCount|playDuring|playState|point|presentation|presentationLevel|profile|property|punctuation|punctuationTrim
  |radius|rate|renderingIntent|repeat|replace|reset|resolution|resource|respondTo|rest|restAfter|restBefore|richness
  |rightColor|rightStyle|rightWidth|role|rotation|rotationPoint|rows|ruby|rubyOverhang|rubySpan|rule|ruleColor
  |ruleStyle|ruleWidth|shadow|size|sizeAdjust|sizing|space|spaceCollapse|spacing|span|speak|speakHeader|speakNumeral
  |speakPunctuation|speech|speechRate|speed|stacking|stackingRuby|stackingShift|stackingStrategy|stress|stretch
  |stringSet|style|styleImage|stylePosition|styleType|target|targetName|targetNew|targetPosition|text|textHeight
  |textJustify|textOutline|textReplace|textWrap|timingFunction|topColor|topLeftRadius|topRightRadius|topStyle
  |topWidth|trim|unicode|up|userSelect|variant|voice|voiceBalance|voiceDuration|voiceFamily|voicePitch|voicePitchRange
  |voiceRate|voiceStress|voiceVolume|volume|weight|white|whiteSpaceCollapse|word|wrap
)\b
</string>
            <key>name</key>
            <string>support.type.property-name.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv|mso|prince)(?:[\p{Pc}\p{L}&amp;&amp;\P{Ll}][\w&amp;&amp;\P{Lu}]*)+\b</string>
            <key>name</key>
            <string>support.type.vendored.property-name.css.ruko</string>
          </dict>
        </array>
      </dict>
      <key>css-value-names</key>
      <dict>
        <key>comment</key>
        <string>TODO</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)\b(
  aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow
)\b
</string>
            <key>name</key>
            <string>support.constant.color.w3c-standard-color-name.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(aliceblue|antiquewhite|aquamarine|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|gold|goldenrod|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|magenta|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olivedrab|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rebeccapurple|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|transparent|turquoise|violet|wheat|whitesmoke|yellowgreen)\b
</string>
            <key>name</key>
            <string>support.constant.color.w3c-extended-color-name.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(currentColor)\b</string>
            <key>name</key>
            <string>support.constant.color.current.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(
  ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText
)\b
</string>
            <key>name</key>
            <string>support.constant.color.system.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(
  above|absolute|active|add|additive|after-edge|alias|all|all-petite-caps|all-scroll|all-small-caps|alpha|alphabetic|alternate|alternate-reverse
  |always|antialiased|auto|auto-fill|auto-fit|auto-pos|available|avoid|avoid-column|avoid-page|avoid-region|backwards|balance|baseline|before-edge|below|bevel
  |bidi-override|blink|block|block-axis|block-start|block-end|bold|bolder|border|border-box|both|bottom|bottom-outside|break-all|break-word|bullets
  |butt|capitalize|caption|cell|center|central|char|circle|clip|clone|close-quote|closest-corner|closest-side|col-resize|collapse|color|color-burn
  |color-dodge|column|column-reverse|common-ligatures|compact|condensed|contain|content|content-box|contents|context-menu|contextual|copy|cover
  |crisp-edges|crispEdges|crosshair|cyclic|dark|darken|dashed|decimal|default|dense|diagonal-fractions|difference|digits|disabled|disc|discretionary-ligatures
  |distribute|distribute-all-lines|distribute-letter|distribute-space|dot|dotted|double|double-circle|downleft|downright|e-resize|each-line|ease|ease-in
  |ease-in-out|ease-out|economy|ellipse|ellipsis|embed|end|evenodd|ew-resize|exact|exclude|exclusion|expanded|extends|extra-condensed|extra-expanded
  |fallback|farthest-corner|farthest-side|fill|fill-available|fill-box|filled|fit-content|fixed|flat|flex|flex-end|flex-start|flip|flow-root|forwards|freeze
  |from-image|full-width|geometricPrecision|georgian|grab|grabbing|grayscale|grid|groove|hand|hanging|hard-light|help|hidden|hide
  |historical-forms|historical-ligatures|horizontal|horizontal-tb|hue|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space
  |ideographic|inactive|infinite|inherit|initial|inline|inline-axis|inline-block|inline-end|inline-flex|inline-grid|inline-list-item|inline-start
  |inline-table|inset|inside|inter-character|inter-ideograph|inter-word|intersect|invert|isolate|isolate-override|italic|jis04|jis78|jis83
  |jis90|justify|justify-all|kannada|keep-all|landscape|large|larger|left|light|lighten|lighter|line|line-edge|line-through|linear|linearRGB
  |lining-nums|list-item|local|loose|lowercase|lr|lr-tb|ltr|luminance|luminosity|main-size|mandatory|manipulation|manual|margin-box|match-parent
  |match-source|mathematical|max-content|medium|menu|message-box|middle|min-content|miter|mixed|move|multiply|n-resize|narrower|ne-resize
  |nearest-neighbor|nesw-resize|newspaper|no-change|no-clip|no-close-quote|no-common-ligatures|no-contextual|no-discretionary-ligatures
  |no-drop|no-historical-ligatures|no-open-quote|no-repeat|none|nonzero|normal|not-allowed|nowrap|ns-resize|numbers|numeric|nw-resize|nwse-resize
  |oblique|oldstyle-nums|open|open-quote|optimizeLegibility|optimizeQuality|optimizeSpeed|optional|ordinal|outset|outside|over|overlay|overline|padding
  |padding-box|page|painted|pan-down|pan-left|pan-right|pan-up|pan-x|pan-y|paused|petite-caps|pixelated|plaintext|pointer|portrait|pre|pre-line
  |pre-wrap|preserve-3d|progress|progressive|proportional-nums|proportional-width|proximity|radial|recto|region|relative|remove|repeat|repeat-[xy]
  |reset-size|reverse|revert|ridge|right|rl|rl-tb|round|row|row-resize|row-reverse|row-severse|rtl|ruby|ruby-base|ruby-base-container|ruby-text
  |ruby-text-container|run-in|running|s-resize|saturation|scale-down|screen|scroll|scroll-position|se-resize|semi-condensed|semi-expanded|separate
  |sesame|show|sideways|sideways-left|sideways-lr|sideways-right|sideways-rl|simplified|slashed-zero|slice|small|small-caps|small-caption|smaller
  |smooth|soft-light|solid|space|space-around|space-between|space-evenly|spell-out|square|sRGB|stacked-fractions|start|static|status-bar|swap
  |step-end|step-start|sticky|stretch|strict|stroke|stroke-box|style|sub|subgrid|subpixel-antialiased|subtract|super|sw-resize|symbolic|table
  |table-caption|table-cell|table-column|table-column-group|table-footer-group|table-header-group|table-row|table-row-group|tabular-nums|tb|tb-rl
  |text|text-after-edge|text-before-edge|text-bottom|text-top|thick|thin|titling-caps|top|top-outside|touch|traditional|transparent|triangle
  |ultra-condensed|ultra-expanded|under|underline|unicase|unset|upleft|uppercase|upright|use-glyph-orientation|use-script|verso|vertical
  |vertical-ideographic|vertical-lr|vertical-rl|vertical-text|view-box|visible|visibleFill|visiblePainted|visibleStroke|w-resize|wait|wavy
  |weight|whitespace|wider|words|wrap|wrap-reverse|x|x-large|x-small|xx-large|xx-small|y|zero|zoom-in|zoom-out
  |above|absolute|active|add|additive|afterEdge|alias|all|allPetiteCaps|allScroll|allSmallCaps|alpha|alphabetic|alternate|alternateReverse
  |always|antialiased|auto|autoFill|autoFit|autoPos|available|avoid|avoidColumn|avoidPage|avoidRegion|backwards|balance|baseline|beforeEdge|below|bevel
  |bidiOverride|blink|block|blockAxis|blockStart|blockEnd|bold|bolder|border|borderBox|both|bottom|bottomOutside|breakAll|breakWord|bullets
  |butt|capitalize|caption|cell|center|central|char|circle|clip|clone|closeQuote|closestCorner|closestSide|colResize|collapse|color|colorBurn
  |colorDodge|column|columnReverse|commonLigatures|compact|condensed|contain|content|contentBox|contents|contextMenu|contextual|copy|cover
  |crispEdges|crispEdges|crosshair|cyclic|dark|darken|dashed|decimal|default|dense|diagonalFractions|difference|digits|disabled|disc|discretionaryLigatures
  |distribute|distributeAllLines|distributeLetter|distributeSpace|dot|dotted|double|doubleCircle|downleft|downright|eResize|eachLine|ease|easeIn
  |easeInOut|easeOut|economy|ellipse|ellipsis|embed|end|evenodd|ewResize|exact|exclude|exclusion|expanded|extends|extraCondensed|extraExpanded
  |fallback|farthestCorner|farthestSide|fill|fillAvailable|fillBox|filled|fitContent|fixed|flat|flex|flexEnd|flexStart|flip|flowRoot|forwards|freeze
  |fromImage|fullWidth|geometricPrecision|georgian|grab|grabbing|grayscale|grid|groove|hand|hanging|hardLight|help|hidden|hide
  |historicalForms|historicalLigatures|horizontal|horizontalTb|hue|icon|ideographAlpha|ideographNumeric|ideographParenthesis|ideographSpace
  |ideographic|inactive|infinite|inherit|initial|inline|inlineAxis|inlineBlock|inlineEnd|inlineFlex|inlineGrid|inlineListItem|inlineStart
  |inlineTable|inset|inside|interCharacter|interIdeograph|interWord|intersect|invert|isolate|isolateOverride|italic|jis04|jis78|jis83
  |jis90|justify|justifyAll|kannada|keepAll|landscape|large|larger|left|light|lighten|lighter|line|lineEdge|lineThrough|linear|linearRGB
  |liningNums|listItem|local|loose|lowercase|lr|lrTb|ltr|luminance|luminosity|mainSize|mandatory|manipulation|manual|marginBox|matchParent
  |matchSource|mathematical|maxContent|medium|menu|messageBox|middle|minContent|miter|mixed|move|multiply|nResize|narrower|neResize
  |nearestNeighbor|neswResize|newspaper|noChange|noClip|noCloseQuote|noCommonLigatures|noContextual|noDiscretionaryLigatures
  |noDrop|noHistoricalLigatures|noOpenQuote|noRepeat|none|nonzero|normal|notAllowed|nowrap|nsResize|numbers|numeric|nwResize|nwseResize
  |oblique|oldstyleNums|open|openQuote|optimizeLegibility|optimizeQuality|optimizeSpeed|optional|ordinal|outset|outside|over|overlay|overline|padding
  |paddingBox|page|painted|panDown|panLeft|panRight|panUp|panX|panY|paused|petiteCaps|pixelated|plaintext|pointer|portrait|pre|preLine
  |preWrap|preserve3d|progress|progressive|proportionalNums|proportionalWidth|proximity|radial|recto|region|relative|remove|repeat|repeat[xy]
  |resetSize|reverse|revert|ridge|right|rl|rlTb|round|row|rowResize|rowReverse|rowSeverse|rtl|ruby|rubyBase|rubyBaseContainer|rubyText
  |rubyTextContainer|runIn|running|sResize|saturation|scaleDown|screen|scroll|scrollPosition|seResize|semiCondensed|semiExpanded|separate
  |sesame|show|sideways|sidewaysLeft|sidewaysLr|sidewaysRight|sidewaysRl|simplified|slashedZero|slice|small|smallCaps|smallCaption|smaller
  |smooth|softLight|solid|space|spaceAround|spaceBetween|spaceEvenly|spellOut|square|sRGB|stackedFractions|start|static|statusBar|swap
  |stepEnd|stepStart|sticky|stretch|strict|stroke|strokeBox|style|sub|subgrid|subpixelAntialiased|subtract|super|swResize|symbolic|table
  |tableCaption|tableCell|tableColumn|tableColumnGroup|tableFooterGroup|tableHeaderGroup|tableRow|tableRowGroup|tabularNums|tb|tbRl
  |text|textAfterEdge|textBeforeEdge|textBottom|textTop|thick|thin|titlingCaps|top|topOutside|touch|traditional|transparent|triangle
  |ultraCondensed|ultraExpanded|under|underline|unicase|unset|upleft|uppercase|upright|useGlyphOrientation|useScript|verso|vertical
  |verticalIdeographic|verticalLr|verticalRl|verticalText|viewBox|visible|visibleFill|visiblePainted|visibleStroke|wResize|wait|wavy
  |weight|whitespace|wider|words|wrap|wrapReverse|x|xLarge|xSmall|xxLarge|xxSmall|y|zero|zoomIn|zoomOut
)\b
</string>
            <key>name</key>
            <string>support.constant.property-value.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(
   arabicIndic|armenian|bengali|cambodian|circle|cjkDecimal|cjkEarthlyBranch|cjkHeavenlyStem|cjkIdeographic
  |decimal|decimalLeadingZero|devanagari|disc|disclosureClosed|disclosureOpen|ethiopicHalehameAm
  |ethiopicHalehameTiE[rt]|ethiopicNumeric|georgian|gujarati|gurmukhi|hangul|hangulConsonant|hebrew
  |hiragana|hiraganaIroha|japaneseFormal|japaneseInformal|kannada|katakana|katakanaIroha|khmer
  |koreanHangulFormal|koreanHanjaFormal|koreanHanjaInformal|lao|lowerAlpha|lowerArmenian|lowerGreek
  |lowerLatin|lowerRoman|malayalam|mongolian|myanmar|oriya|persian|simpChineseFormal|simpChineseInformal
  |square|tamil|telugu|thai|tibetan|tradChineseFormal|tradChineseInformal|upperAlpha|upperArmenian
  |upperLatin|upperRoman|urdu
  arabic-indic|armenian|bengali|cambodian|circle|cjk-decimal|cjk-earthly-branch|cjk-heavenly-stem|cjk-ideographic
  |decimal|decimal-leading-zero|devanagari|disc|disclosure-closed|disclosure-open|ethiopic-halehame-am
  |ethiopic-halehame-ti-e[rt]|ethiopic-numeric|georgian|gujarati|gurmukhi|hangul|hangul-consonant|hebrew
  |hiragana|hiragana-iroha|japanese-formal|japanese-informal|kannada|katakana|katakana-iroha|khmer
  |korean-hangul-formal|korean-hanja-formal|korean-hanja-informal|lao|lower-alpha|lower-armenian|lower-greek
  |lower-latin|lower-roman|malayalam|mongolian|myanmar|oriya|persian|simp-chinese-formal|simp-chinese-informal
  |square|tamil|telugu|thai|tibetan|trad-chinese-formal|trad-chinese-informal|upper-alpha|upper-armenian
  |upper-latin|upper-roman|urdu
)\b
</string>
            <key>name</key>
            <string>support.constant.property-value.list-style-type.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system-ui|system|tahoma|times|trebuchet|ui-monospace|ui-rounded|ui-sans-serif|ui-serif|utopia|verdana|webdings|sans-serif|serif|monospace|arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|systemUi|system|tahoma|times|trebuchet|uiMonospace|uiRounded|uiSansSerif|uiSerif|utopia|verdana|webdings|sansSerif|serif|monospace)\b
</string>
            <key>name</key>
            <string>support.constant.font-name.css.ruko</string>
          </dict>
        </array>
      </dict>
      <key>html-tag-names</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>match</key>
            <string>(?x)\b(all|print|screen|speech|aural|braille|embossed|handheld|projection|tty|tv)\b</string>
            <key>name</key>
            <string>support.constant.media.css.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?x)\b(
  a|abbr|acronym|address|altGlyph|altGlyphDef|altGlyphItem|animate|animateColor|animateMotion|animateTransform|annotation|annotationXml|applet|area|article|aside|audio|b|base|basefont|bdi|bdo|bgsound|big|blink|blockquote|body|br|button|canvas|caption|center|circle|cite|clipPath|code|col|colgroup|colorProfile|command|content|cursor|data|datalist|dd|defs|del|desc|details|dfn|dialog|dir|discard|div|dl|dt|elem|ellipse|em|embed|feBlend|feColorMatrix|feComponentTransfer|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feImage|feMerge|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting|feSpotLight|feTile|feTurbulence|fieldset|figcaption|figure|filter|font|fontFace|fontFaceFormat|fontFaceName|fontFaceSrc|fontFaceUri|footer|foreignObject|form|frame|frameset|g|glyph|glyphRef|hatch|hatchpath|hd|head|header|hgroup|hkern|hr|html|h[1-6]|i|iframe|image|img|input|ins|isindex|kbd|keygen|label|legend|li|line|linearGradient|link|listing|maction|main|maligngroup|malignmark|map|mark|marker|marquee|mask|math|menclose|menu|menuitem|merror|mesh|meshgradient|meshpatch|meshrow|meta|metadata|meter|mfenced|mfrac|mglyph|mi|missingGlyph|mlabeledtr|mlongdiv|mmultiscripts|mn|mo|mover|mpadded|mpath|mphantom|mroot|mrow|ms|mscarries|mscarry|msgroup|msline|mspace|msqrt|msrow|mstack|mstyle|msub|msubsup|msup|mtable|mtd|mtext|mtr|multicol|munder|munderover|nav|nextid|nobr|noembed|noframes|noscript|object|ol|optgroup|option|output|p|param|path|pattern|picture|plaintext|polygon|polyline|pre|progress|q|radialGradient|rb|rect|rp|rt|rtc|ruby|s|samp|script|section|select|semantics|set|shadow|slot|small|solidcolor|source|spacer|span|stop|strike|strong|style|sub|summary|sup|svg|switch|symbol|table|tbody|td|template|text|textarea|textPath|tfoot|th|thead|time|title|tr|track|tref|tspan|tt|u|ul|use|var|video|view|vkern|wbr|xmp
)\b
</string>
            <key>name</key>
            <string>entity.name.tag.css.ruko</string>
          </dict>
        </array>
      </dict>
      <key>entities</key>
      <dict>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>#constants</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#function-names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#type-names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#variables</string>
          </dict>
        </array>
      </dict>
      <key>type-names</key>
      <dict>
        <key>comment</key>
        <string>Names for built-in types</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>Primitive classes</string>
            <key>match</key>
            <string>(?x)\s*(?&lt;![?!]?\.|[?!:]:)\b(
  # upper flat case
  Bool|Char|Rune|Str|Sym|Text|Buf
  |(Big)?(Num|Nat|U?Int|Float|Frac|Real|Imag|Complex)
  # lower flat case
  |bool|char|rune|str|sym|text|buf
  |(big)?(num|nat|u?int|float|frac|real|imag|complex)
  # suffixed numeric types
  # i: signed integer
  # u: unsigned integer
  # f: floating point
  # j: imaginary float
  # c: complex float (real+imaginary)
  |(?i:[iufjc]\d+)
)\b
</string>
            <key>name</key>
            <string>support.type.builtin.primitive.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Data query classes</string>
            <key>match</key>
            <string>(?x)\s*(?&lt;![?!]?\.|[?!:]:)\b(
  Array|Tuple|Set|Map|Object|Seq|Record|Dict
  |Proc|Range|Stack|Heap|Queue|Tree|Trie|Graph
  |Future|Stream|RegExp|Func|Buffer|FSe[tq]
  # lower flat case
  |array|tuple|set|map|object|seq|record|dict
  |proc|range|stack|heap|queue|tree|trie|graph
  |future|stream|regexp|func|buffer|fse[tq]
)\b
</string>
            <key>name</key>
            <string>support.type.builtin.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Constant/algebraic classes</string>
            <key>match</key>
            <string>(?x)\s*(?&lt;![?!]?\.|[?!:]:)\b(
  True|False|Null|Void|NaN|Inf|Empty|Unit|Object
  |Any|Mixed|Just|Some|None|Never|(Im)?pure|Const|Undef
  # lower flat case
  |true|false|null|void|nan|inf|empty|unit|obj
  |any|mixed|just|some|none|never|(im)?pure|const|undef
)\b
</string>
            <key>name</key>
            <string>support.type.primitive.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Error classes | BaseError, etc</string>
            <key>match</key>
            <string>\s*\b((\p{Lu}[\w&amp;&amp;\P{Lu}]*)+)?(Error|Exception)\b</string>
            <key>name</key>
            <string>support.class.error.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Interface classes | IEnumerable, etc</string>
            <key>match</key>
            <string>\s*\bI((\p{Lu}[\w&amp;&amp;\P{Lu}]*)+)\b</string>
            <key>name</key>
            <string>entity.name.interface.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Namespace classes | NSString, etc</string>
            <key>match</key>
            <string>\s*\bNS((\p{Lu}[\w&amp;&amp;\P{Lu}]*)+)\b</string>
            <key>name</key>
            <string>entity.name.namespace.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Trait classes | Serializable, Loggable etc</string>
            <key>match</key>
            <string>\s*\b((\p{Lu}[\w&amp;&amp;\P{Lu}]*)+)able\b</string>
            <key>name</key>
            <string>support.class.trait.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>Algebraic data types</string>
            <key>match</key>
            <string>\s*\b(Some|None|Just|Ok|Err|Left|Right)\b\s*</string>
            <key>name</key>
            <string>support.class.algebraic.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#support-classes</string>
          </dict>
        </array>
      </dict>
      <key>support-classes</key>
      <dict>
        <key>comment</key>
        <string>Ruko probably won't have a large set of built-in classes, so we include common built-in types from major languages to improve recognition of cross-language codebases</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>source.python#builtin-exceptions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.php#class-builtin</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-types-builtin-protocol-type</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-types-builtin-struct-type</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-types-builtin-enum-type</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-types-builtin-class-type</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-types</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.basic.shaderlab</string>
            <key>match</key>
            <string>\b(Range|Float|Int|Color|Vector|2D|3D|Cube|Any)\b</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#numbers</string>
          </dict>
          <dict>
            <key>name</key>
            <string>storage.type.structure.shaderlab</string>
            <key>match</key>
            <string>\b(Shader|Properties|SubShader|Pass|Category)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.propertyname.shaderlab</string>
            <key>match</key>
            <string>\b(Name|Tags|Fallback|CustomEditor|Cull|ZWrite|ZTest|Offset|Blend|BlendOp|ColorMask|AlphaToMask|LOD|Lighting|Stencil|Ref|ReadMask|WriteMask|Comp|CompBack|CompFront|Fail|ZFail|UsePass|GrabPass|Dependency|Material|Diffuse|Ambient|Shininess|Specular|Emission|Fog|Mode|Density|SeparateSpecular|SetTexture|Combine|ConstantColor|Matrix|AlphaTest|ColorMaterial|BindChannels|Bind)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.shaderlab</string>
            <key>match</key>
            <string>\b(Back|Front|On|Off|[RGBA]{1,3}|AmbientAndDiffuse|Emission)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.comparisonfunction.shaderlab</string>
            <key>match</key>
            <string>\b(Less|Greater|LEqual|GEqual|Equal|NotEqual|Always|Never)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.stenciloperation.shaderlab</string>
            <key>match</key>
            <string>\b(Keep|Zero|Replace|IncrSat|DecrSat|Invert|IncrWrap|DecrWrap)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.texturecombiners.shaderlab</string>
            <key>match</key>
            <string>\b(Previous|Primary|Texture|Constant|Lerp|Double|Quad|Alpha)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.fog.shaderlab</string>
            <key>match</key>
            <string>\b(Global|Linear|Exp2|Exp)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.bindchannels.shaderlab</string>
            <key>match</key>
            <string>\b(Vertex|Normal|Tangent|TexCoord0|TexCoord1)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.blendoperations.shaderlab</string>
            <key>match</key>
            <string>\b(Add|Sub|RevSub|Min|Max|LogicalClear|LogicalSet|LogicalCopyInverted|LogicalCopy|LogicalNoop|LogicalInvert|LogicalAnd|LogicalNand|LogicalOr|LogicalNor|LogicalXor|LogicalEquiv|LogicalAndReverse|LogicalAndInverted|LogicalOrReverse|LogicalOrInverted)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.property-value.blendfactors.shaderlab</string>
            <key>match</key>
            <string>\b(One|Zero|SrcColor|SrcAlpha|DstColor|DstAlpha|OneMinusSrcColor|OneMinusSrcAlpha|OneMinusDstColor|OneMinusDstAlpha)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.basic.hlsl</string>
            <key>match</key>
            <string>\b(bool([1-4](x[1-4])?)?|double([1-4](x[1-4])?)?|dword|float([1-4](x[1-4])?)?|half([1-4](x[1-4])?)?|int([1-4](x[1-4])?)?|matrix|min10float([1-4](x[1-4])?)?|min12int([1-4](x[1-4])?)?|min16float([1-4](x[1-4])?)?|min16int([1-4](x[1-4])?)?|min16uint([1-4](x[1-4])?)?|unsigned|uint([1-4](x[1-4])?)?|vector|void)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.modifier.hlsl</string>
            <key>match</key>
            <string>\b(column_major|const|export|extern|globallycoherent|groupshared|inline|inout|in|out|precise|row_major|shared|static|uniform|volatile)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.modifier.float.hlsl</string>
            <key>match</key>
            <string>\b(snorm|unorm)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.modifier.postfix.hlsl</string>
            <key>match</key>
            <string>\b(packoffset|register)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.modifier.interpolation.hlsl</string>
            <key>match</key>
            <string>\b(centroid|linear|nointerpolation|noperspective|sample)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.modifier.geometryshader.hlsl</string>
            <key>match</key>
            <string>\b(lineadj|line|point|triangle|triangleadj)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.other.hlsl</string>
            <key>match</key>
            <string>\b(string)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.object.hlsl</string>
            <key>match</key>
            <string>\b(AppendStructuredBuffer|Buffer|ByteAddressBuffer|ConstantBuffer|ConsumeStructuredBuffer|InputPatch|OutputPatch)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.object.rasterizerordered.hlsl</string>
            <key>match</key>
            <string>\b(RasterizerOrderedBuffer|RasterizerOrderedByteAddressBuffer|RasterizerOrderedStructuredBuffer|RasterizerOrderedTexture1D|RasterizerOrderedTexture1DArray|RasterizerOrderedTexture2D|RasterizerOrderedTexture2DArray|RasterizerOrderedTexture3D)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.object.rw.hlsl</string>
            <key>match</key>
            <string>\b(RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture1D|RWTexture1DArray|RWTexture2D|RWTexture2DArray|RWTexture3D)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.object.geometryshader.hlsl</string>
            <key>match</key>
            <string>\b(LineStream|PointStream|TriangleStream)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.sampler.legacy.hlsl</string>
            <key>match</key>
            <string>\b(sampler|sampler1D|sampler2D|sampler3D|samplerCUBE|sampler_state)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.sampler.hlsl</string>
            <key>match</key>
            <string>\b(SamplerState|SamplerComparisonState)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.texture.legacy.hlsl</string>
            <key>match</key>
            <string>\b(texture2D|textureCUBE)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.texture.hlsl</string>
            <key>match</key>
            <string>\b(Texture1D|Texture1DArray|Texture2D|Texture2DArray|Texture2DMS|Texture2DMSArray|Texture3D|TextureCube|TextureCubeArray)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.structured.hlsl</string>
            <key>match</key>
            <string>\b(cbuffer|class|interface|namespace|struct|tbuffer)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.fx.hlsl</string>
            <key>match</key>
            <string>\b(BlendState|DepthStencilState|RasterizerState)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.fx.technique.hlsl</string>
            <key>match</key>
            <string>\b(pass|technique|technique10|technique11)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.semantic.sm4.hlsl</string>
            <key>match</key>
            <string>\b(?i:SV_ClipDistance[0-9]*|SV_CullDistance[0-9]*|SV_Coverage|SV_Depth|SV_DepthGreaterEqual[0-9]*|SV_DepthLessEqual[0-9]*|SV_InstanceID|SV_IsFrontFace|SV_Position|SV_RenderTargetArrayIndex|SV_SampleIndex|SV_StencilRef|SV_Target[0-7]?|SV_VertexID|SV_ViewportArrayIndex)\b</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.type.semantic.sm5.hlsl</string>
            <key>match</key>
            <string>\b(?i:SV_DispatchThreadID|SV_DomainLocation|SV_GroupID|SV_GroupIndex|SV_GroupThreadID|SV_GSInstanceID|SV_InsideTessFactor|SV_OutputControlPointID|SV_TessFactor)\b</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_17</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_18</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_19</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_20</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_21</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_22</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_23</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_24</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#anonymous_pattern_25</string>
          </dict>
        </array>
      </dict>
      <key>support-functions</key>
      <dict>
        <key>comment</key>
        <string>Names for general support functions in Ruko standard library
organized by naming conventions for maintainability
</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>comment</key>
            <string>predicate functions</string>
            <key>match</key>
            <string>\s*\b(i|ha)s(\p{Lu}[\w&amp;&amp;\P{Lu}]*)+\b\s*</string>
            <key>name</key>
            <string>support.function.predicate.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>conversion functions</string>
            <key>match</key>
            <string>\s*\b(to|from)(\p{Lu}[\w&amp;&amp;\P{Lu}]*)+\b\s*</string>
            <key>name</key>
            <string>support.function.type.ruko</string>
          </dict>
          <dict>
            <key>comment</key>
            <string>magic functions like __init__, __str__, etc</string>
            <key>match</key>
            <string>\s*\b\p{Pc}+([\p{Pc}\p{L}]\w*)+\p{Pc}+\b\s*</string>
            <key>name</key>
            <string>support.function.magic.ruko</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\s*\b[gs]et(\p{Lu}[\w&amp;&amp;\P{Lu}]*)+\b\s*</string>
            <key>name</key>
            <string>support.function.accessor.ruko</string>
          </dict>
          <dict>
            <key>include</key>
            <string>#support-functions-core</string>
          </dict>
        </array>
      </dict>
      <key>support-functions-core</key>
      <dict>
        <key>comment</key>
        <string>Core built-in functions from major languages, to improve recognition of cross-language codebases</string>
        <key>patterns</key>
        <array>
          <dict>
            <key>include</key>
            <string>source.coffeescript#method_names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.coffeescript#function_names</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.swift#builtin-global-functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.php#support</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.r#builtin-functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.objcpp#c_functions</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;![^.]\.|:)\b(assert|collectgarbage|dofile|error|getfenv|getmetatable|ipairs|load|loadfile|loadstring|module|next|pairs|pcall|print|rawequal|rawget|rawlen|rawset|require|select|setfenv|setmetatable|tonumber|tostring|type|unpack|xpcall)\b(?!\s*=(?!=))</string>
            <key>name</key>
            <string>support.function.lua</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;![^.]\.|:)\b(coroutine\.(create|isyieldable|close|resume|running|status|wrap|yield)|string\.(byte|char|dump|find|format|gmatch|gsub|len|lower|match|pack|packsize|rep|reverse|sub|unpack|upper)|table\.(concat|insert|maxn|move|pack|remove|sort|unpack)|math\.(abs|acos|asin|atan2?|ceil|cosh?|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pow|rad|random|randomseed|sinh?|sqrt|tanh?|tointeger|type)|io\.(close|flush|input|lines|open|output|popen|read|tmpfile|type|write)|os\.(clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(loadlib|seeall|searchpath)|debug\.(debug|[gs]etfenv|[gs]ethook|getinfo|[gs]etlocal|[gs]etmetatable|getregistry|[gs]etupvalue|[gs]etuservalue|set[Cc]stacklimit|traceback|upvalueid|upvaluejoin)|bit32\.(arshift|band|bnot|bor|btest|bxor|extract|replace|lrotate|lshift|rrotate|rshift)|utf8\.(char|codes|codepoint|len|offset))\b(?!\s*=(?!=))</string>
            <key>name</key>
            <string>support.function.library.lua</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(abort|at_exit|autoload[?]?|binding|callcc|caller|caller_locations|chomp|chop|eval|exec|exit|exit!|fork|format|gets|global_variables|gsub|lambda|load|local_variables|open|p|print|printf|proc|putc|puts|rand|readline|readlines|select|set_trace_func|sleep|spawn|sprintf|srand|sub|syscall|system|test|trace_var|trap|untrace_var|warn)(\b|(?&lt;=[?!]))(?![?!])</string>
            <key>name</key>
            <string>support.function.kernel.ruby</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(avg|checksum_agg|count|count_big|grouping|grouping_id|max|min|sum|stdev|stdevp|var|varp)\b</string>
            <key>name</key>
            <string>support.function.aggregate.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(cume_dist|first_value|lag|last_value|lead|percent_rank|percentile_cont|percentile_disc)\b</string>
            <key>name</key>
            <string>support.function.analytic.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(cast|convert|parse|try_cast|try_convert|try_parse)\b</string>
            <key>name</key>
            <string>support.function.conversion.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(cursor_status)\b</string>
            <key>name</key>
            <string>support.function.cursor.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(sysdatetime|sysdatetimeoffset|sysutcdatetime|current_time(stamp)?|getdate|getutcdate|datename|datepart|day|month|year|datefromparts|datetime2fromparts|datetimefromparts|datetimeoffsetfromparts|smalldatetimefromparts|timefromparts|datediff|dateadd|eomonth|switchoffset|todatetimeoffset|isdate)\b</string>
            <key>name</key>
            <string>support.function.datetime.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(coalesce|nullif)\b</string>
            <key>name</key>
            <string>support.function.expression.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>(?&lt;!@)@@(?i)\b(cursor_rows|connections|cpu_busy|datefirst|dbts|error|fetch_status|identity|idle|io_busy|langid|language|lock_timeout|max_connections|max_precision|nestlevel|options|packet_errors|pack_received|pack_sent|procid|remserver|rowcount|servername|servicename|spid|textsize|timeticks|total_errors|total_read|total_write|trancount|version)\b</string>
            <key>name</key>
            <string>support.function.globalvar.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(choose|iif)\b</string>
            <key>name</key>
            <string>support.function.logical.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(abs|acos|asin|atan|atn2|ceiling|cos|cot|degrees|exp|floor|log|log10|pi|power|radians|rand|round|sign|sin|sqrt|square|tan)\b</string>
            <key>name</key>
            <string>support.function.mathematical.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(app_name|applock_mode|applock_test|assemblyproperty|col_length|col_name|columnproperty|database_principal_id|databasepropertyex|db_id|db_name|file_id|file_idex|file_name|filegroup_id|filegroup_name|filegroupproperty|fileproperty|fulltextcatalogproperty|fulltextserviceproperty|index_col|indexkey_property|indexproperty|object_definition|object_id|object_name|object_schema_name|objectproperty|objectpropertyex|original_db_name|parsename|schema_id|schema_name|scope_identity|serverproperty|stats_date|type_id|type_name|typeproperty)\b</string>
            <key>name</key>
            <string>support.function.metadata.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(rank|dense_rank|ntile|row_number)\b</string>
            <key>name</key>
            <string>support.function.ranking.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(opendatasource|openrowset|openquery|openxml)\b</string>
            <key>name</key>
            <string>support.function.rowset.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(certencoded|certprivatekey|current_user|database_principal_id|has_perms_by_name|is_member|is_rolemember|is_srvrolemember|original_login|permissions|pwdcompare|pwdencrypt|schema_id|schema_name|session_user|suser_id|suser_sid|suser_sname|system_user|suser_name|user_id|user_name)\b</string>
            <key>name</key>
            <string>support.function.security.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(ascii|char|charindex|concat|difference|format|left|len|lower|ltrim|nchar|nodes|patindex|quotename|replace|replicate|reverse|right|rtrim|soundex|space|str|string_agg|string_escape|string_split|stuff|substring|translate|trim|unicode|upper)\b</string>
            <key>name</key>
            <string>support.function.string.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(binary_checksum|checksum|compress|connectionproperty|context_info|current_request_id|current_transaction_id|decompress|error_line|error_message|error_number|error_procedure|error_severity|error_state|formatmessage|get_filestream_transaction_context|getansinull|host_id|host_name|isnull|isnumeric|min_active_rowversion|newid|newsequentialid|rowcount_big|session_context|session_id|xact_state)\b</string>
            <key>name</key>
            <string>support.function.system.sql</string>
          </dict>
          <dict>
            <key>match</key>
            <string>\b(patindex|textptr|textvalid)\b</string>
            <key>name</key>
            <string>support.function.textimage.sql</string>
          </dict>
          <dict>
            <key>name</key>
            <string>support.function.legacy.builtin.python</string>
            <key>match</key>
            <string>(?x)(?&lt;!\.)\b(file|reduce|intern|raw_input|unicode|cmp|basestring|execfile|long|xrange)\b</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.python#builtin-functions</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.python#builtin-types</string>
          </dict>
          <dict>
            <key>include</key>
            <string>source.python#magic-function-names</string>
          </dict>
        </array>
      </dict>
    </dict>
  </dict>
</plist>