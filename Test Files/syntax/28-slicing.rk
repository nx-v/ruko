\* ============================================================
   28 — SLICE SYNTAX
   Corresponds to: ruko.tmLanguage.yaml lines 8680–8690
   Array/string slicing with start:end:step notation.
   ============================================================ *\

// ============================================================
// BASIC SLICES
// ============================================================

let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
let str2 = "Hello, World!"

// [start:end] — from start up to (not including) end
let s1 = arr[2:5]          // [2, 3, 4]
let s2 = str2[0:5]         // "Hello"
let s3 = arr[1:4]          // [1, 2, 3]

// [start:] — from start to end
let s4 = arr[3:]           // [3, 4, 5, 6, 7, 8, 9]
let s5 = str2[7:]          // "World!"

// [:end] — from beginning up to end
let s6 = arr[:5]           // [0, 1, 2, 3, 4]
let s7 = str2[:5]          // "Hello"

// [:] — full copy
let s8  = arr[:]           // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
let s9  = str2[:]          // "Hello, World!"

// ============================================================
// STEP SLICES
// ============================================================

// [start:end:step]
let s10 = arr[0 : 9 : 2]       // [0, 2, 4, 6, 8]  — every other
let s11 = arr[1 : 9 : 2]       // [1, 3, 5, 7]      — every other starting at 1
let s12 = arr[ : : 3]         // [0, 3, 6, 9]      — every third

// Reverse with step -1
let s13 = arr[ : : -1]        // [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
let s14 = str2[ : : -1]       // "!dlroW ,olleH"

// Partial reverse
let s15 = arr[5 : 1 : -1]      // [5, 4, 3, 2]

// Every 2 reversed
let s16 = arr[8 : 0 : -2]      // [8, 6, 4, 2]

// ============================================================
// NEGATIVE INDICES
// ============================================================

// Negative: count from end
let s17 = arr[-3 : ]         // [7, 8, 9]  — last 3
let s18 = arr[ : -3]         // [0, 1, 2, 3, 4, 5, 6]  — up to last 3 (exclusive)
let s19 = arr[-5 : -2]       // [5, 6, 7]
let s20 = str2[-6 : ]        // "World!"
let s21 = str2[ : -7]        // "Hello,"

// ============================================================
// EXPRESSION INDICES
// ============================================================

let n = 5
let s22 = arr[n : ]          // from index 5
let s23 = arr[ : n]          // up to index 5 (exclusive)
let s24 = arr[n-2 : n+2]     // [3, 4, 5, 6]

let s25 = arr[mid-1 : mid+1]   // dynamic middle window
let s26 = arr[start : end : stride]

// ============================================================
// MULTI-DIMENSIONAL SLICES
// ============================================================

let mat = [[1,2,3],[4,5,6],[7,8,9]]

// Row slice
let rows = mat[1 : ]          // rows 1 and 2: [[4,5,6],[7,8,9]]
let row1 = mat[0]           // [1, 2, 3]

// Column slice (Ruko supports extended indexing)
let col0 = mat[ : , 0]        // [1, 4, 7]  — first column
let col1 = mat[ : , 1]        // [2, 5, 8]  — second column
let sub  = mat[0:2, 0:2]    // [[1,2],[4,5]] — 2×2 submatrix

// Strided multi-dim
let strd = mat[ : : 2, : : 2]    // every other row AND column

// ============================================================
// SLICE AS LVALUE (ASSIGNMENT)
// ============================================================

mut arr2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
arr2[2 : 5] = [20, 30, 40]    // replace elements at index 2,3,4
arr2[ : 3]  = [10, 11, 12]    // replace first 3
arr2[ : :2] = arr2[ : : 2].map(|x| x * 2)  // double every other

// ============================================================
// SLICE WITH RANGE OPERATORS  (comparison)
// ============================================================

// Ruko also has range literals; slices use : syntax, not ..
let range1 = 0 ..< 10       // range object (for is and contains)
let range2 = 0 .. 9         // inclusive range

// Slice is distinct — uses [] and :
let slice1 = arr[0 : 10]      // array slice